(this.webpackJsonpmahjong=this.webpackJsonpmahjong||[]).push([[0],{106:function(e,t,n){e.exports=n(119)},111:function(e,t,n){},112:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(33),c=n.n(i),l=(n(111),n(112),n(11)),u=n(28),s=function(e){if(f)try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return null}return null},d=function(e,t){if(f)try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return!1}return!1},f=function(){try{var e=localStorage.getItem("");return localStorage.removeItem(""),localStorage.setItem("",e||""),null===e?localStorage.removeItem(""):localStorage.setItem("",e),!0}catch(t){return!1}}();!function(e){e[e.Main=0]="Main",e[e.MahJong=1]="MahJong",e[e.Training=2]="Training",e[e.Playground=3]="Playground"}(a||(a={}));var m={page:a.MahJong},p=Object(u.b)({name:"main",initialState:m,reducers:{navigate:function(e,t){e.page=t.payload,function(e){d("Main",e)}(e)},loadFailed:function(e){m},loadSuccess:function(e,t){var n,r;e.page=null!==(n=null===(r=t.payload)||void 0===r?void 0:r.page)&&void 0!==n?n:a.MahJong}}}),g=p.actions,h=g.loadSuccess,b=g.loadFailed,y=p.actions.navigate;var v=function(e){return e.main.page},j=p.reducer,O=n(176),x="da";var w,E,C=function(e){return e&&e[x]?e[x]:e.da||e.us||""},S=function(){return C({da:"Hjem",us:"Home"})},k=function(){return C({da:"Luk",us:"Close"})},P=function(){return C({da:"Afbryd",us:"Cancel"})},T=function(){return C({da:"Ok"})},B=function(){return C({da:"Tilf\xf8j",us:"Add"})},D=function(){return C({da:"Tilf\xf8j spiller",us:"Add player"})},F=function(){return C({da:"Jeps",us:"Yes"})},N=function(){return C({da:"Nope",us:"No way"})},M=function(){return C({da:"V\xe6lg spillere",us:"Choose players"})},I=function(){return C({da:"Ryd op",us:"Clear"})},L=function(){return C({da:"Slet spiller",us:"Delete player"})},G=function(e){return C({da:"Score: ".concat(e),us:"Score: ".concat(e)})},W=function(){return C({da:"Ukendt",us:"Unknown"})},A=function(){return C({da:"Tilf\xf8j",us:"Add"})},R=function(e){return C({da:"Tilf\xf8j ".concat(e),us:"Add ".concat(e)})},K=n(8),J=n(147),H=n(79),z=n(182),U=n(162),V=n(2),Y=n(164),q=n(181),_=n(156),Q=n(21),$=n(4),X=Object(Q.b)((function(){return Object($.B)({page:{overflow:"auto"},list:{margin:"0 10px"},header:{marginLeft:"10px",marginRight:"10px"},winnerIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto",color:"green"},winnerIcon2:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"0px",color:"green"},eastIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto"}})})),Z=n(31),ee=n(17),te=n(177),ne=n(5);function ae(e){return{id:Object(te.a)(),name:e}}function re(){return{id:Object(te.a)(),score:[]}}function oe(e){return{gameScore:0,points:0,sets:[],playerId:e}}function ie(e,t){return function(e,t){return Object(ne.find)(e.score,(function(e){return e.playerId===t}))}(e,t.id)||oe(t.id)}!function(e){e[e.Dragon=0]="Dragon",e[e.Wind=1]="Wind",e[e.Bamboo=2]="Bamboo",e[e.Circle=3]="Circle",e[e.Character=4]="Character",e[e.Flower=5]="Flower"}(w||(w={})),function(e){e[e.Chow=0]="Chow",e[e.Poong=1]="Poong",e[e.Kong=2]="Kong",e[e.Pair=3]="Pair",e[e.Single=4]="Single"}(E||(E={}));var ce={players:[],games:[],currentPlayers:[],currentGame:re()},le=Object(u.b)({name:"mahjongOverview",initialState:ce,reducers:{loadFailed:function(e){ce},loadSuccess:function(e,t){var n,a,r,o,i,c,l,u;e.players=null!==(n=null===(a=t.payload)||void 0===a?void 0:a.players)&&void 0!==n?n:ce.players,e.games=null!==(r=null===(o=t.payload)||void 0===o?void 0:o.games)&&void 0!==r?r:ce.games,e.currentPlayers=null!==(i=null===(c=t.payload)||void 0===c?void 0:c.currentPlayers)&&void 0!==i?i:ce.currentPlayers,e.currentGame=null!==(l=null===(u=t.payload)||void 0===u?void 0:u.currentGame)&&void 0!==l?l:ce.currentGame,ue(e),se(e.currentGame)},setPlayers:function(e,t){e.currentPlayers=t.payload,ue(e)},addUser:function(e,t){e.players=Object(ne.uniqBy)(e.players,(function(e){return e.name})),e.players=Object(ne.uniqBy)(e.players,(function(e){return e.id})),e.players&&!Object(ne.find)(e.players,(function(e){return e.name===t.payload.name}))&&e.players.push(t.payload),e.currentPlayers.length<4&&!Object(ne.find)(e.currentPlayers,(function(e){return e.id===t.payload.id}))&&e.currentPlayers.push(t.payload),ue(e)},deleteUser:function(e,t){e.players&&(e.players=Object(ne.filter)(e.players,(function(e){return e.id!==t.payload.id})),e.currentPlayers=Object(ne.filter)(e.currentPlayers,(function(e){return e.id!==t.payload.id})),ue(e))},clearGame:function(e){Object(ne.forEach)(e.currentGame.score,(function(e){e.sets=[],e.points=0,e.gameScore=0,e.isWinner=!1,e.isEast=!1})),Ee(e)},clearAllGames:function(e){Object(ne.forEach)(e.currentGame.score,(function(e){e.sets=[],e.points=0,e.gameScore=0,e.isWinner=!1,e.isEast=!1})),e.games=[],Ee(e)},clearAll:function(e){Ee(ce)},updateScore:function(e,t){var n,a=Object(ne.find)(null===(n=e.currentGame)||void 0===n?void 0:n.score,(function(e){var n;return e.playerId===(null===(n=t.payload)||void 0===n?void 0:n.playerId)}));if(a){var r=Object(ne.without)(e.currentGame.score,a);Object(ne.forEach)(r,(function(e){t.payload.isWinner&&(e.isWinner=!1),t.payload.isEast&&(e.isEast=!1)})),e.currentGame.score=[].concat(Object(ee.a)(r),[Object(Z.a)({},t.payload)]),se(e.currentGame),Ee(e)}},saveGame:function(e){se(e.currentGame),Object(ne.some)(e.currentGame.score,(function(e){return 0!==e.points}))&&(e.games=[].concat(Object(ee.a)(e.games),[e.currentGame]),e.currentGame=re(),ue(e),Ee(e))}}});function ue(e){e.currentPlayers=Object(ne.filter)(e.currentPlayers,(function(t){return!!Object(ne.find)(e.players,(function(e){return e.id===t.id}))})),e.currentPlayers=Object(ne.uniqBy)(e.currentPlayers,(function(e){return e.id})),e.currentGame.score=Object(ne.map)(e.currentPlayers,(function(t,n){return Object(ne.find)(e.currentGame.score,(function(e){return e.playerId===t.id}))||oe(t.id)})),Ee(e)}function se(e){if((null===e||void 0===e?void 0:e.score)&&!(e.score.length<=1)){var t=!1;Object(ne.forEach)(e.score,(function(e){e.points=de(e),t=t||!!e.isWinner})),t&&Object(ne.forEach)(e.score,(function(t){t.gameScore=Object(ne.sumBy)(e.score,(function(e){if(e.playerId===t.playerId)return 0;var n=e.isWinner?0:t.points;return t.isWinner||(n-=e.points),e.isEast||t.isEast?2*n:n}))}))}}function de(e){var t,n=e.isWinner?10:0;n+=Object(ne.sumBy)(e.sets,(function(e){if(e.tileType===w.Flower)switch(e.setType){case E.Pair:return 8;case E.Chow:case E.Poong:return 12;case E.Kong:return 16;case E.Single:default:return 4}if(e.setType===E.Pair&&(e.tileType===w.Dragon||e.tileType===w.Wind&&e.ownWind))return 2;var t=0;return e.setType===E.Poong?t=2:e.setType===E.Kong&&(t=8),(e.oneOrNine||e.tileType===w.Dragon||e.tileType===w.Wind)&&(t*=2),e.inHand&&(t*=2),t}));var a=1;if(Object(ne.some)(e.sets,(function(e){return!!e.ownWind&&e.tileType===w.Wind&&(e.setType===E.Poong||e.setType===E.Kong)}))&&(a*=2),Object(ne.some)(e.sets,(function(e){return e.tileType===w.Dragon&&(e.setType===E.Poong||e.setType===E.Kong)}))&&(a*=2),Object(ne.some)(e.sets,(function(e){return e.tileType===w.Flower&&(e.setType===E.Poong||e.setType===E.Kong)}))&&(a*=2),e.isWinner){var r=!1,o=0,i=0,c=0;Object(ne.forEach)(e.sets,(function(e){e.tileType===w.Bamboo&&(o=1),e.tileType===w.Circle&&(i=1),e.tileType===w.Character&&(c=1),e.tileType!==w.Dragon&&e.tileType!==w.Wind||(r=!0)})),o+i+c===1&&(a*=r?2:8)}return null!==(t=Object(ne.min)([n*a,300]))&&void 0!==t?t:0}var fe=le.actions,me=fe.loadFailed,pe=fe.loadSuccess,ge=le.actions,he=ge.setPlayers,be=ge.addUser,ye=ge.deleteUser,ve=ge.clearGame,je=ge.clearAllGames,Oe=ge.clearAll,xe=ge.updateScore,we=ge.saveGame;function Ee(e){d("Mahjong",e)}var Ce=function(){return function(e){e(f?pe(s("Mahjong")):me())}},Se=function(e){return e.mahjongOverview.players||[]},ke=function(e){return e.mahjongOverview.games||[]},Pe=function(e){return e.mahjongOverview.currentGame||re()},Te=function(e){return e.mahjongOverview.currentPlayers||[]},Be=le.reducer,De=n(163),Fe=n(180),Ne=n(171),Me=Object(Q.b)((function(){return Object($.B)({wrapper:{display:"flex",alignItems:"flex-end",margin:"30px 5px"}})}));function Ie(e){var t=Object(J.a)()(Me),n={footer:{root:{margin:"5px"}},combobox:{root:{margin:"5px"}},firstRoot:{root:{flexGrow:"1",flexShrink:"1"}},firstContainer:{container:{flexGrow:"1",flexShrink:"1"}}},a=e.isOpen,i=e.onSave,c=e.onDelete,l=e.allPlayers,u=e.currentPlayers,s=o.a.useState([]),d=Object(K.a)(s,2),f=d[0],m=d[1],p=o.a.useState(null),g=Object(K.a)(p,2),h=g[0],b=g[1];Object(r.useEffect)((function(){for(var e=Object(ee.a)(u),t=e.length;t<4;t++)e.push(ae(""));m(e)}),[u]);var y=function(){i(Object(ne.filter)(f,(function(e){return!Object(ne.isEmpty)(e.name)})))},v=[{key:"_",text:""}].concat(Object(ee.a)(Object(ne.map)(l,(function(e){return{key:e.id,text:e.name,data:e}})))),j=function(e){var t=Object(ne.filter)(v,(function(t){return t.key===e.id||!Object(ne.find)(f,(function(e){return t.key===e.id}))}));return 1===t.length?[]:t},O=Object(ne.map)(f,(function(e,t){return function(e,t){return o.a.createElement(De.a,{key:t,"aria-label":"",selectedKey:e.id,autoComplete:"on",options:j(e),onChange:(a=t,function(e,t){var n=Object(ee.a)(f);n.length>a&&(n[a]=(null===t||void 0===t?void 0:t.data)||ae("")),m(n)}),styles:n.combobox});var a}(e,t)})),x=function(e,t){b(null===t||void 0===t?void 0:t.data)},w=function(){h&&c(h)};return o.a.createElement("div",null,o.a.createElement(Ne.a,{isOpen:a,isLightDismiss:!0,onDismiss:y,headerText:C({da:"V\xe6lg spillere",us:"Choose players"}),closeButtonAriaLabel:k(),onRenderFooterContent:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{styles:n.footer,onClick:y},T()))},isFooterAtBottom:!0},O,o.a.createElement("div",{className:t.wrapper},o.a.createElement(De.a,{label:C({da:"Slet spiller",us:"Delete player"}),"aria-label":"",autoComplete:"on",selectedKey:null===h||void 0===h?void 0:h.id,options:1===v.length?[]:v,onChange:x,styles:n.firstContainer}),o.a.createElement(Fe.a,{iconProps:{iconName:"Delete"},onClick:w,title:L(),ariaLabel:L(),disabled:Object(ne.isEmpty)(null===h||void 0===h?void 0:h.id)}))))}var Le=n(59),Ge=n(167),We=n(175),Ae=Object(Q.b)((function(){return Object($.B)({page:{overflow:"auto"},content:{margin:"10px"},listItem:{display:"flex",margin:"10px"},listDescription:{margin:"0 20px",padding:"5px"}})})),Re=n(170),Ke=(Object(Q.b)((function(){return Object($.B)({wrapper:{display:"flex",alignItems:"flex-end",margin:"30px 5px"}})})),n(83)),Je=n.n(Ke),He=n(84),ze=n.n(He),Ue=n(85),Ve=n.n(Ue),Ye=n(86),qe=n.n(Ye),_e=n(87),Qe=n.n(_e),$e=n(88),Xe=n.n($e),Ze=n(89),et=n.n(Ze),tt=n(90),nt=n.n(tt),at=n(91),rt=n.n(at),ot=n(92),it=n.n(ot),ct=n(93),lt=n.n(ct),ut=n(94),st=n.n(ut),dt=n(95),ft=n.n(dt);function mt(e){switch(e){case w.Dragon:return C({da:"Drager",us:"Dragons"});case w.Wind:return C({da:"Vinde",us:"Wind"});case w.Bamboo:return C({da:"Bambus",us:"Bamboo"});case w.Circle:return C({da:"Cirkler",us:"Circles"});case w.Character:return C({da:"Tal",us:"Characters"});case w.Flower:return C({da:"Blomster",us:"Flowers"});default:return W()}}function pt(e,t){switch(e){case w.Dragon:return Je.a;case w.Wind:return ze.a;case w.Bamboo:return Ve.a;case w.Circle:return Qe.a;case w.Character:return et.a;case w.Flower:return 1===t?rt.a:2===t?it.a:3===t?lt.a:6===t?ft.a:st.a;default:return}}function gt(e){return e?e.tileType===w.Flower?function(e){switch(e){case E.Single:return[pt(w.Flower)];case E.Pair:return[pt(w.Flower,6),pt(w.Flower,3)];case E.Chow:return[pt(w.Flower,1),pt(w.Flower,2),pt(w.Flower,6)];case E.Poong:return[pt(w.Flower,1),pt(w.Flower,2),pt(w.Flower,4)];case E.Kong:return[pt(w.Flower,1),pt(w.Flower,2),pt(w.Flower,3),pt(w.Flower,4)];default:return[]}}(e.setType):function(e,t){var n=pt(e);switch(t){case E.Pair:return[n,n];case E.Chow:return function(e){switch(e){case w.Bamboo:return[qe.a];case w.Circle:return[Xe.a];case w.Character:return[nt.a];default:return[]}}(e);case E.Poong:return[n,n,n];case E.Kong:return[n,n,n,n];default:return[]}}(e.tileType,e.setType):[]}function ht(e){switch(e){case E.Single:return C({da:"Enkelt",us:"Single"});case E.Pair:return C({da:"Slut par",us:"End pair"});case E.Chow:return C({da:"Chow"});case E.Poong:return C({da:"Poong"});case E.Kong:return C({da:"Kong"});default:return W()}}function bt(e){var t={footer:{root:{margin:"5px"}},choiceGroup:{choiceFieldWrapper:{backgroundColor:"white"}}},n=e.isOpen,a=e.onClose,i=e.onCancel,c=o.a.useState(E.Poong),l=Object(K.a)(c,2),u=l[0],s=l[1],d=o.a.useState(w.Bamboo),f=Object(K.a)(d,2),m=f[0],p=f[1],g=o.a.useState(!1),h=Object(K.a)(g,2),b=h[0],y=h[1],v=o.a.useState(!1),j=Object(K.a)(v,2),O=j[0],x=j[1],S=o.a.useState(!1),P=Object(K.a)(S,2),B=P[0],D=P[1];Object(r.useEffect)((function(){s(E.Poong),p(w.Bamboo),y(!1),x(!1),D(!1)}),[n]);var M=function(){a({tileType:m,setType:u,inHand:b,oneOrNine:O,ownWind:B})},I=function(e,n){return{key:e.toString(),imageSrc:pt(e),selectedImageSrc:pt(e),imageSize:{width:40,height:55},imageAlt:mt(e),text:mt(e),disabled:n,styles:t.choiceGroup}},L=function(e){return{key:e,text:ht(e)}},G=m!==w.Flower,W=m===w.Bamboo||m===w.Circle||m===w.Character,A=m===w.Wind;return o.a.createElement("div",null,o.a.createElement(Ne.a,{isOpen:n,isLightDismiss:!0,onDismiss:i,headerText:C({da:"Score",us:"Score picker"}),closeButtonAriaLabel:k(),onRenderFooterContent:function(){return o.a.createElement("div",null,o.a.createElement(_.a,{styles:t.footer,onClick:M},T()))},isFooterAtBottom:!0},o.a.createElement(Ge.a,{tokens:{childrenGap:10}},o.a.createElement(Re.a,{label:C({da:"V\xe6lg s\xe6t type",us:"Choose set type"}),selectedKey:m.toString(),onChange:function(e,t){var n,a=parseInt(null!==(n=null===t||void 0===t?void 0:t.key)&&void 0!==n?n:w.Bamboo.toString());a===w.Flower?u===E.Poong&&s(E.Single):u===E.Single&&s(E.Poong),p(a)},options:function(){var e=u===E.Chow;return[I(w.Dragon,e),I(w.Wind,e),I(w.Character),I(w.Circle),I(w.Bamboo),I(w.Flower,e)]}()}),o.a.createElement(De.a,{label:C({da:"V\xe6lg antal i s\xe6t",us:"Choose count in set"}),"aria-label":"",autoComplete:"on",selectedKey:u,options:function(){var e=[];return m!==w.Bamboo&&m!==w.Circle&&m!==w.Character||e.push(L(E.Chow)),e.push(L(E.Poong)),e.push(L(E.Kong)),e.push(L(E.Pair)),m===w.Flower&&e.push(L(E.Single)),e}(),onChange:function(e,t){var n;s(null!==(n=null===t||void 0===t?void 0:t.key)&&void 0!==n?n:E.Poong)}}),G&&o.a.createElement(We.a,{label:C({da:"Er s\xe6t p\xe5 h\xe5nden?",us:"Is set in hand?"}),checked:b,inlineLabel:!0,onText:F(),offText:N(),onChange:function(e,t){y(!!t)}}),W&&o.a.createElement(We.a,{label:C({da:"Er det ener eller nier?",us:"Is it one or nine?"}),checked:O,inlineLabel:!0,onText:F(),offText:N(),onChange:function(e,t){x(!!t)}}),A&&o.a.createElement(We.a,{label:C({da:"Er det egen vind?",us:"Is it your own wind?"}),checked:B,inlineLabel:!0,onText:F(),offText:N(),onChange:function(e,t){D(!!t)}}))))}function yt(e){var t,n=Object(J.a)()(Ae),a={commandBar:{root:{padding:"5px"}},dashboard:{root:{padding:"24px 0 0 0"}},listButton:{root:{marginTop:"10px",marginLeft:"auto"}},footer:{root:{marginTop:30,float:"right",marginRight:30}}},i=e.user,c=e.onNavigateBack,u=Object(l.c)(Pe),s=o.a.useState(void 0),d=Object(K.a)(s,2),f=d[0],m=d[1],p=o.a.useState(!1),g=Object(K.a)(p,2),h=g[0],b=g[1];Object(r.useEffect)((function(){i&&u&&m(ie(u,i))}),[i,u]);var y=oe(""),v=Object(l.b)(),j=function(){b(!0)},O=[{key:"Back",name:C({da:"Tilbage",us:"Back"}),iconProps:{iconName:"Back"},onClick:function(){f&&v(xe(f)),c()}},{key:"Score",name:B(),iconProps:{iconName:"6PointStar"},onClick:j}];return o.a.createElement("div",{className:n.page},o.a.createElement(Y.a,{items:O,styles:a.commandBar}),o.a.createElement("div",{className:n.content},o.a.createElement("h1",null,i.name),o.a.createElement("p",null,G(null!==(t=null===f||void 0===f?void 0:f.points)&&void 0!==t?t:0)),o.a.createElement(Ge.a,{tokens:{childrenGap:10}},o.a.createElement(We.a,{label:C({da:"Vandt du?",us:"Did you win?"}),checked:null===f||void 0===f?void 0:f.isWinner,inlineLabel:!0,onText:F(),offText:N(),onChange:function(e,t){return function(e){var t=Object(Z.a)({},y,{},f,{isWinner:e});t.points=de(t),m(t)}(t)}}),o.a.createElement(We.a,{label:C({da:"Er du \xf8st?",us:"Are you east?"}),checked:null===f||void 0===f?void 0:f.isEast,inlineLabel:!0,onText:F(),offText:N(),onChange:function(e,t){return n=t,void m(Object(Z.a)({},y,{},f,{isEast:n}));var n}})),o.a.createElement(q.a,{items:null===f||void 0===f?void 0:f.sets,onRenderCell:function(e){return e?o.a.createElement("div",{className:n.listItem},function(e){return Object(ne.map)(gt(e),(function(t,n){return o.a.createElement(Le.a,{key:n,src:t,alt:mt(e.tileType),height:55})}))}(e),o.a.createElement("div",{className:n.listDescription},o.a.createElement("div",null,mt(null===e||void 0===e?void 0:e.tileType)),o.a.createElement("div",null,ht(null===e||void 0===e?void 0:e.setType))),o.a.createElement(Fe.a,{iconProps:{iconName:"Delete"},title:L(),ariaLabel:L(),onClick:function(){!function(e){if(f){var t=Object(Z.a)({},y,{},f,{sets:Object(ne.without)(f.sets,e)});t.points=de(t),m(t)}}(e)},styles:a.listButton})):null}}),o.a.createElement(_.a,{styles:a.footer,onClick:j},B())),o.a.createElement(bt,{isOpen:h,onClose:function(e){if(f){var t=Object(Z.a)({},y,{},f,{sets:[].concat(Object(ee.a)(f.sets||[]),[e])});t.points=de(t),m(t)}b(!1)},onCancel:function(){return b(!1)}}))}var vt=n(165),jt=n(38),Ot=n(97),xt=n(100);function wt(e){var t=e.isOpen,n=e.onAdd,a=e.onCancel,i=e.allPlayers,c=o.a.useState(),u=Object(K.a)(c,2),s=u[0],d=u[1],f=o.a.useState([]),m=Object(K.a)(f,2),p=m[0],g=m[1],h=Object(l.b)();Object(r.useEffect)((function(){d(void 0)}),[t]);var b=function(e){return{key:e.id,text:e.name,data:e}};Object(r.useEffect)((function(){g(Object(ne.map)(i,b))}),[i]);return o.a.createElement(vt.a,{hidden:!t,onDismiss:a,dialogContentProps:{type:jt.a.normal,title:D(),closeButtonAriaLabel:P()},modalProps:{isBlocking:!1}},o.a.createElement(De.a,{ariaLabel:D(),key:"User",selectedKey:null===s||void 0===s?void 0:s.id,allowFreeform:!0,autoComplete:"on",onChange:function(e,t,n,a){if(null===t||void 0===t?void 0:t.data)d(t.data);else{var r=(null===t||void 0===t?void 0:t.text)||a;if(r){var o=ae(r);h(be(o)),d(o),g([].concat(Object(ee.a)(p),[b(o)]))}}},options:p}),o.a.createElement(Ot.a,null,o.a.createElement(_.a,{onClick:function(){s&&n(s)},text:T()}),o.a.createElement(xt.a,{onClick:a,text:P()})))}function Et(){var e=Object(J.a)()(X),t={commandBar:{root:{padding:"5px"}},dashboard:{root:{padding:"24px 0 0 0"}},listItem:{root:{maxWidth:"100%",width:"100%",padding:"20px 10px 20px 20px",margin:"10px 0"},flexContainer:{justifyContent:"flex-start"}},footerButton:{root:{marginTop:30,float:"right",marginRight:30}}},n=o.a.useState(0),i=Object(K.a)(n,2),c=i[0],u=i[1],s=o.a.useState(!1),d=Object(K.a)(s,2),f=d[0],m=d[1],p=o.a.useState(!1),g=Object(K.a)(p,2),h=g[0],b=g[1],v=o.a.useState(void 0),j=Object(K.a)(v,2),O=j[0],x=j[1],w=o.a.useState([]),E=Object(K.a)(w,2),k=E[0],P=E[1],T=Object(l.c)(Se),D=Object(l.c)(Te),F=Object(l.c)(Te),N=Object(l.c)(Pe),L=Object(l.c)(ke),W=Object(l.b)();Object(r.useEffect)((function(){W(Ce())}),[W]),Object(r.useEffect)((function(){var e=function(e,t){var n=Object(ne.uniqBy)(t,(function(e){return e.id})),a=Object(ne.filter)(e,(function(e){var t=Object(ne.uniqBy)(e.score,(function(e){return e.playerId}));return n.length===t.length&&!Object(ne.some)(n,(function(e){return!Object(ne.find)(t,(function(t){return t.playerId===e.id}))}))}));return 0===a.length?[]:Object(ne.map)(n,(function(e){return{playerId:e.id,score:Object(ne.sumBy)(a,(function(t){var n,a=Object(ne.find)(t.score,(function(t){return t.playerId===e.id}));return null!==(n=null===a||void 0===a?void 0:a.gameScore)&&void 0!==n?n:0}))}}))}(L,D);P(e),u(c+1)}),[L,D]);var A=function(){return m(!0)},R=function(e){return function(){x(e)}},Q=[{key:"Back",text:S(),iconProps:{iconName:"Home"},onClick:function(){W(y(a.Main))}},{key:"Select",text:M(),iconProps:{iconName:"People"},ariaLabel:M(),subMenuProps:{items:[{key:"add",text:B(),iconProps:{iconName:"People"},onClick:A},{key:"SelectOrDelete",text:M(),iconProps:{iconName:"People"},onClick:function(){return b(!0)}}]}},{key:"save",text:C({da:"Gem point",us:"Save score"}),iconProps:{iconName:"Save"},onClick:function(){W(we())}},{key:"Clear",text:I(),iconProps:{iconName:"Delete"},ariaLabel:I(),subMenuProps:{items:[{key:"ClearAll",text:C({da:"Slet alt",us:"Remove all"}),iconProps:{iconName:"UserRemove"},onClick:function(){W(Oe()),u(c+1)},disabled:!0},{key:"ClearGames",text:C({da:"Slet alle point",us:"Clear all points"}),iconProps:{iconName:"RemoveFromShoppingList"},onClick:function(){W(je()),u(c+1)}},{key:"ClearGame",text:C({da:"Slet point",us:"Clear points"}),iconProps:{iconName:"RemoveFromShoppingList"},onClick:function(){W(ve()),u(c+1)}}]}}];return O?o.a.createElement(yt,{user:O,onNavigateBack:function(){x(void 0),u(c+1)}}):o.a.createElement("div",{className:e.page},o.a.createElement(Y.a,{items:Q,styles:t.commandBar}),o.a.createElement("h1",{className:e.header},C({da:"MahJong lommeregner",us:"MahJong calculator"})),o.a.createElement(wt,{isOpen:f,onAdd:function(e){W(be(e)),m(!1)},onCancel:function(){m(!1),b(!1)},allPlayers:T}),o.a.createElement(Ie,{isOpen:h,onSave:function(e){W(he(e)),b(!1)},onDelete:function(e){W(ye(e))},allPlayers:T,currentPlayers:D}),o.a.createElement(q.a,{className:e.list,version:c,items:F,onRenderCell:function(n){if(!n)return null;var a,r,i=ie(N,n),c=i.isWinner?o.a.createElement(H.a,{iconName:"SkypeCheck",className:i.isEast?e.winnerIcon2:e.winnerIcon}):null,l=i.isEast?o.a.createElement(H.a,{iconName:"CompassNW",className:e.eastIcon}):null,u=Object(ne.find)(k,(function(e){return e.playerId===n.id})),s=u?(a=i.gameScore,r=u.score,C({da:"Samlet score: ".concat(a,"\u2003(").concat(r,")"),us:"Total score: ".concat(a,"\u2003(").concat(r,")")})):function(e){return C({da:"Samlet score: ".concat(e),us:"Total score: ".concat(e)})}(i.gameScore);return o.a.createElement(z.a,{styles:t.listItem,onClick:R(n)},o.a.createElement(U.a,{text:null===n||void 0===n?void 0:n.name,secondaryText:G(i.points),tertiaryText:s,size:V.c.size72}),l,c)}}),(null===F||void 0===F?void 0:F.length)<4&&o.a.createElement(_.a,{styles:t.footerButton,onClick:A},M()))}var Ct=Object(Q.b)((function(){return Object($.B)({page:{overflow:"auto"},list:{margin:"0 10px"},header:{marginLeft:"10px",marginRight:"10px"},winnerIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto",color:"green"},winnerIcon2:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"0px",color:"green"},eastIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto"}})}));function St(){var e=Object(J.a)()(Ct),t={commandBar:{root:{padding:"5px"}},dashboard:{root:{padding:"24px 0 0 0"}},listItem:{root:{maxWidth:"100%",width:"100%",padding:"20px 10px 20px 20px",margin:"10px 0"},flexContainer:{justifyContent:"flex-start"}},footerButton:{root:{marginTop:30,float:"right",marginRight:30}}},n=o.a.useState(0),i=Object(K.a)(n,2),c=(i[0],i[1],Object(l.b)());Object(r.useEffect)((function(){c(Ce())}),[c]);var u=[{key:"Back",text:S(),iconProps:{iconName:"Home"},onClick:function(){c(y(a.Main))}}];return o.a.createElement("div",{className:e.page},o.a.createElement(Y.a,{items:u,styles:t.commandBar}))}var kt=Object(Q.b)((function(){return Object($.B)({page:{overflow:"auto",margin:"0 10px"},list:{margin:"0 10px"},header:{margin:"0"},listItem:{display:"flex"},listText:{margin:"6px"}})})),Pt={pushups:[]},Tt=Object(u.b)({name:"TrainingOverview",initialState:Pt,reducers:{loadFailed:function(e){Pt},loadSuccess:function(e,t){var n,a;e.pushups=null!==(n=null===(a=t.payload)||void 0===a?void 0:a.pushups)&&void 0!==n?n:[]},addPushups:function(e,t){var n,a,r,o=(r=e.pushups,Object(ne.filter)(r,(function(e){var t,n,a;return new Date(null!==(t=e.date)&&void 0!==t?t:new Date).getDate()===(new Date).getDate()&&new Date(null!==(n=e.date)&&void 0!==n?n:new Date).getMonth()===(new Date).getMonth()&&new Date(null!==(a=e.date)&&void 0!==a?a:new Date).getFullYear()===(new Date).getFullYear()})));e.pushups=ne.without.apply(void 0,[e.pushups].concat(Object(ee.a)(o)));var i={count:t.payload.count,date:(null!==(n=t.payload.date)&&void 0!==n?n:new Date).toString()};for(o.push(i);o.length>2;){var c=Object(ne.minBy)(o,(function(e){return e.count}))||i;o=Object(ne.without)(o,c)}(a=e.pushups).push.apply(a,Object(ee.a)(o)),Lt(e)},removePushups:function(e,t){var n=Object(ne.find)(e.pushups,(function(e){return e.count===t.payload.count&&e.date===t.payload.date}));n&&(e.pushups=Object(ne.without)(e.pushups,n)),Lt(e)}}}),Bt=Tt.actions,Dt=Bt.loadFailed,Ft=Bt.loadSuccess,Nt=Tt.actions,Mt=Nt.addPushups,It=Nt.removePushups;function Lt(e){d("Training",e)}function Gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return Object(ne.filter)(e,(function(e){var n,a;return new Date(null!==(n=e.date)&&void 0!==n?n:new Date).getMonth()===t.getMonth()&&new Date(null!==(a=e.date)&&void 0!==a?a:new Date).getFullYear()===t.getFullYear()}))}function Wt(e){var t;return null!==(t=Object(ne.max)([500-Object(ne.sumBy)(e,(function(e){return e.count})),0]))&&void 0!==t?t:0}function At(e,t){return Wt(e)/(function(e){return new Date(e.getFullYear(),e.getMonth()+13,0).getDate()}(t)-t.getDate()+1)}var Rt=function(e){return e.training.pushups},Kt=Tt.reducer;function Jt(){var e=Object(J.a)()(kt),t={commandBar:{root:{padding:"5px"}},dashboard:{root:{padding:"24px 0 0 0"}},listItem:{root:{maxWidth:"100%",width:"100%",padding:"20px 10px 20px 20px",margin:"10px 0"},flexContainer:{justifyContent:"flex-start"}},footerButton:{root:{marginTop:30,float:"right",marginRight:30}},listButton:{root:{marginLeft:"auto"}}},n=o.a.useState(0),i=Object(K.a)(n,2),c=i[0],u=i[1],d=o.a.useState(0),m=Object(K.a)(d,2),p=m[0],g=m[1],h=o.a.useState(0),b=Object(K.a)(h,2),v=b[0],j=b[1],O=o.a.useState(0),x=Object(K.a)(O,2),w=x[0],E=x[1],k=o.a.useState(0),P=Object(K.a)(k,2),T=P[0],B=P[1],D=o.a.useState(!1),M=Object(K.a)(D,2),I=M[0],G=M[1],W=Object(l.c)(Rt),H=Object(l.b)();Object(r.useEffect)((function(){H((function(e){e(f?Ft(s("Training")):Dt())}))}),[H]),Object(r.useEffect)((function(){var e,t,n=new Date,a=Gt(W,n);g(function(e){var t;return null!==(t=Object(ne.sumBy)(e,(function(e){return e.count})))&&void 0!==t?t:0}(a)),j((e=a,t=n,Object(ne.sumBy)(e,(function(e){return e.count}))/t.getDate())),E(Wt(a)),B(At(a,n))}),[W]);var z,U=function(e){return{key:"add"+e,text:R(e.toString()),onClick:function(t,n){H(Mt({count:e}))}}},V=[{key:"Back",text:S(),iconProps:{iconName:"Home"},onClick:function(){H(y(a.Main))}},{key:"Add",text:A(),iconProps:{iconName:"ReportAdd"},ariaLabel:A(),subMenuProps:{items:[U(20),U(25),U(30),U(35),U(40)]}}];return o.a.createElement("div",{className:e.page},o.a.createElement(Y.a,{items:V,styles:t.commandBar}),o.a.createElement("h1",{className:e.header},C({da:"Tr\xe6ning",us:"Training"})),o.a.createElement("p",null,(z=p.toFixed(0),C({da:"Total: ".concat(z),us:"Total: ".concat(z)}))),o.a.createElement("p",null,function(e){return C({da:"Gennemsnit: ".concat(e),us:"Average: ".concat(e)})}(v.toFixed(0))),o.a.createElement("p",null,function(e){return C({da:"Mangler: ".concat(e),us:"Missing: ".concat(e)})}(w.toFixed(0))),o.a.createElement("p",null,function(e){return C({da:"Mangler pr. dag: ".concat(e),us:"Missing per day: ".concat(e)})}(T.toFixed(0))),o.a.createElement("h2",{className:e.header},C({da:"Detaljer",us:"Details"})),o.a.createElement(We.a,{label:C({da:"Vis alle",us:"Show all"}),checked:I,inlineLabel:!0,onText:F(),offText:N(),onChange:function(e,t){u(c+1),G(!!t)}}),o.a.createElement(q.a,{className:e.list,version:c,items:I?W:Gt(W),onRenderCell:function(n){if(!n)return null;var a=n.date?new Date(n.date).toLocaleDateString():" - ";return o.a.createElement("div",{className:e.listItem},o.a.createElement("p",{className:e.listText},function(e,t){return C({da:"".concat(t,": ").concat(e)})}(n.count.toString(),a)),o.a.createElement(Fe.a,{iconProps:{iconName:"Delete"},title:L(),ariaLabel:L(),onClick:function(){!function(e){H(It(e))}(n)},styles:t.listButton}))}}))}function Ht(){var e=Object(l.c)(v),t=Object(l.b)();switch(Object(r.useEffect)((function(){t((function(e){e(f?h(s("Main")):b())}))}),[t]),e){case a.MahJong:return o.a.createElement(Et,null);case a.Training:return o.a.createElement(Jt,null);case a.Playground:return o.a.createElement(St,null);case a.Main:return o.a.createElement(O.a,{selectedKey:"key0",ariaLabel:"Nav basic example",groups:[{links:[{name:C({da:"MahJong"}),url:"",key:"key0",target:"_blank",onClick:function(){t(y(a.MahJong))}},{name:C({da:"Tr\xe6ning",us:"Training"}),url:"",key:"key1",target:"_blank",onClick:function(){t(y(a.Training))}},{name:C({da:"Ekstra",us:"Extra"}),url:"",key:"key2",target:"_blank",onClick:function(){t(y(a.Playground))}}]}]})}}var zt=n(161),Ut=n(96),Vt={area:{graph:[]},townHall:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{name:e,width:t,length:n,needRoad:a}}("TownHall",7,6,!0),buildings:[{name:"TH",width:4,length:4,needRoad:!0}]},Yt=Object(u.b)({name:"PlaygroundOverview",initialState:Vt,reducers:{loadFailed:function(e){Vt},loadSuccess:function(e,t){}}}),qt=Yt.actions;qt.loadFailed,qt.loadSuccess;Object(Ut.a)(Yt.actions);var _t=Yt.reducer,Qt=Object(u.a)({reducer:{main:j,mahjongOverview:Be,training:Kt,playground:_t}}),$t=n(160),Xt=Object($.A)({palette:{themePrimary:"#2266e3",themeLighterAlt:"#f5f8fe",themeLighter:"#d8e4fb",themeLight:"#b8cef7",themeTertiary:"#759fee",themeSecondary:"#3a76e6",themeDarkAlt:"#1f5bcc",themeDark:"#1a4dac",themeDarker:"#13397f",neutralLighterAlt:"#faf9f8",neutralLighter:"#f3f2f1",neutralLight:"#edebe9",neutralQuaternaryAlt:"#e1dfdd",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c6c4",neutralTertiary:"#a19f9d",neutralSecondary:"#605e5c",neutralPrimaryAlt:"#3b3a39",neutralPrimary:"#323130",neutralDark:"#201f1e",black:"#000000",white:"#ffffff"}}),Zt=function(){return Object(r.useEffect)((function(){Object(zt.a)()})),o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:Qt},o.a.createElement($t.a,{theme:Xt},o.a.createElement(Ht,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Zt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,n){e.exports=n.p+"static/media/MahjongGreenDragon.ae5a6502.jpg"},84:function(e,t,n){e.exports=n.p+"static/media/MahjongEast.7287d189.jpg"},85:function(e,t,n){e.exports=n.p+"static/media/MahjongBamboo6.93503ad1.jpg"},86:function(e,t,n){e.exports=n.p+"static/media/MahjongBambooChow.b2d6588f.jpg"},87:function(e,t,n){e.exports=n.p+"static/media/MahjongCircle5.5776cb62.jpg"},88:function(e,t,n){e.exports=n.p+"static/media/MahjongCircleChow.cc8debbe.jpg"},89:function(e,t,n){e.exports=n.p+"static/media/MahjongCharacter4.711aa9d4.jpg"},90:function(e,t,n){e.exports=n.p+"static/media/MahjongCharacterChow.79f76632.jpg"},91:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason1.2d153ff1.jpg"},92:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason2.ce673dd6.jpg"},93:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason3.d676d4a5.jpg"},94:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason4.81b5c8aa.jpg"},95:function(e,t,n){e.exports=n.p+"static/media/MahjongFlower2.9efa08e5.jpg"}},[[106,1,2]]]);
//# sourceMappingURL=main.4e3e0b4d.chunk.js.map