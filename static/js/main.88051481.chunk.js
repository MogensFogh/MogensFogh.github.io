(this.webpackJsonpmahjong=this.webpackJsonpmahjong||[]).push([[0],{105:function(e,t,n){e.exports=n(118)},110:function(e,t,n){},111:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(31),c=n.n(i),l=(n(110),n(111),n(11)),u=n(40);!function(e){e[e.Main=0]="Main",e[e.MahJong=1]="MahJong"}(a||(a={}));var s={page:a.MahJong},d=Object(u.b)({name:"main",initialState:s,reducers:{navigate:function(e,t){e.page=t.payload}}}),f=d.actions.navigate,m=function(e){return e.main.page},p=d.reducer,g=n(175),b="da";var y,h,v=function(e){return e&&e[b]?e[b]:e.da||e.us||""},j=function(){return v({da:"Luk",us:"Close"})},O=function(){return v({da:"Afbryd",us:"Cancel"})},C=function(){return v({da:"Ok"})},E=function(){return v({da:"Tilf\xf8j",us:"Add"})},w=function(){return v({da:"Tilf\xf8j spiller",us:"Add player"})},x=function(){return v({da:"Jeps",us:"Yes"})},S=function(){return v({da:"Nope",us:"No way"})},k=function(){return v({da:"V\xe6lg spillere",us:"Choose players"})},P=function(){return v({da:"Ryd op",us:"Clear"})},T=function(){return v({da:"Slet spiller",us:"Delete player"})},B=function(e){return v({da:"Score: ".concat(e),us:"Score: ".concat(e)})},I=function(){return v({da:"Ukendt",us:"Unknown"})},F=n(10),N=n(146),G=n(79),D=n(181),W=n(161),L=n(2),M=n(163),A=n(180),K=n(155),R=n(19),J=n(4),U=Object(R.b)((function(){return Object(J.B)({page:{overflow:"auto"},list:{margin:"0 10px"},header:{marginLeft:"10px",marginRight:"10px"},winnerIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto",color:"green"},winnerIcon2:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"0px",color:"green"},eastIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto"}})})),z=n(37),V=n(23),q=n(176),H=n(5);function Q(e){return{id:Object(q.a)(),name:e}}function _(){return{id:Object(q.a)(),score:[]}}function Y(e){return{gameScore:0,points:0,sets:[],playerId:e}}function $(e,t){return function(e,t){return Object(H.find)(e.score,(function(e){return e.playerId===t}))}(e,t.id)||Y(t.id)}!function(e){e[e.Dragon=0]="Dragon",e[e.Wind=1]="Wind",e[e.Bamboo=2]="Bamboo",e[e.Circle=3]="Circle",e[e.Character=4]="Character",e[e.Flower=5]="Flower"}(y||(y={})),function(e){e[e.Chow=0]="Chow",e[e.Poong=1]="Poong",e[e.Kong=2]="Kong",e[e.Pair=3]="Pair",e[e.Single=4]="Single"}(h||(h={}));var X=function(e){if(Z)try{return localStorage.setItem("Main",JSON.stringify(e)),!0}catch(t){return!1}return!1},Z=function(){try{var e=localStorage.getItem("");return localStorage.removeItem(""),localStorage.setItem("",e||""),null===e?localStorage.removeItem(""):localStorage.setItem("",e),!0}catch(t){return!1}}(),ee={players:[],games:[],currentPlayers:[],currentGame:_()},te=Object(u.b)({name:"mahjongOverview",initialState:ee,reducers:{loadFailed:function(e){ee},loadSuccess:function(e,t){var n,a,r,o,i,c,l,u;e.players=null!==(n=null===(a=t.payload)||void 0===a?void 0:a.players)&&void 0!==n?n:ee.players,e.games=null!==(r=null===(o=t.payload)||void 0===o?void 0:o.games)&&void 0!==r?r:ee.games,e.currentPlayers=null!==(i=null===(c=t.payload)||void 0===c?void 0:c.currentPlayers)&&void 0!==i?i:ee.currentPlayers,e.currentGame=null!==(l=null===(u=t.payload)||void 0===u?void 0:u.currentGame)&&void 0!==l?l:ee.currentGame,ne(e),ae(e.currentGame)},setPlayers:function(e,t){e.currentPlayers=t.payload,ne(e)},addUser:function(e,t){e.players=Object(H.uniqBy)(e.players,(function(e){return e.name})),e.players=Object(H.uniqBy)(e.players,(function(e){return e.id})),e.players&&!Object(H.find)(e.players,(function(e){return e.name===t.payload.name}))&&e.players.push(t.payload),e.currentPlayers.length<4&&!Object(H.find)(e.currentPlayers,(function(e){return e.id===t.payload.id}))&&e.currentPlayers.push(t.payload),ne(e)},deleteUser:function(e,t){e.players&&(e.players=Object(H.filter)(e.players,(function(e){return e.id!==t.payload.id})),e.currentPlayers=Object(H.filter)(e.currentPlayers,(function(e){return e.id!==t.payload.id})),ne(e))},clearGame:function(e){Object(H.forEach)(e.currentGame.score,(function(e){e.sets=[],e.points=0,e.gameScore=0,e.isWinner=!1,e.isEast=!1})),X(e)},clearAllGames:function(e){Object(H.forEach)(e.currentGame.score,(function(e){e.sets=[],e.points=0,e.gameScore=0,e.isWinner=!1,e.isEast=!1})),e.games=[],X(e)},clearAll:function(e){X(ee)},updateScore:function(e,t){var n,a=Object(H.find)(null===(n=e.currentGame)||void 0===n?void 0:n.score,(function(e){var n;return e.playerId===(null===(n=t.payload)||void 0===n?void 0:n.playerId)}));if(a){var r=Object(H.without)(e.currentGame.score,a);Object(H.forEach)(r,(function(e){t.payload.isWinner&&(e.isWinner=!1),t.payload.isEast&&(e.isEast=!1)})),e.currentGame.score=[].concat(Object(V.a)(r),[Object(z.a)({},t.payload)]),ae(e.currentGame),X(e)}},saveGame:function(e){ae(e.currentGame),Object(H.some)(e.currentGame.score,(function(e){return 0!==e.points}))&&(e.games=[].concat(Object(V.a)(e.games),[e.currentGame]),e.currentGame=_(),ne(e),X(e))}}});function ne(e){e.currentPlayers=Object(H.filter)(e.currentPlayers,(function(t){return!!Object(H.find)(e.players,(function(e){return e.id===t.id}))})),e.currentPlayers=Object(H.uniqBy)(e.currentPlayers,(function(e){return e.id})),e.currentGame.score=Object(H.map)(e.currentPlayers,(function(t,n){return Object(H.find)(e.currentGame.score,(function(e){return e.playerId===t.id}))||Y(t.id)})),X(e)}function ae(e){if((null===e||void 0===e?void 0:e.score)&&!(e.score.length<=1)){var t=!1;Object(H.forEach)(e.score,(function(e){e.points=re(e),t=t||!!e.isWinner})),t&&Object(H.forEach)(e.score,(function(t){t.gameScore=Object(H.sumBy)(e.score,(function(e){if(e.playerId===t.playerId)return 0;var n=e.isWinner?0:t.points;return t.isWinner||(n-=e.points),e.isEast||t.isEast?2*n:n}))}))}}function re(e){var t,n=e.isWinner?10:0;n+=Object(H.sumBy)(e.sets,(function(e){if(e.tileType===y.Flower)switch(e.setType){case h.Pair:return 8;case h.Chow:case h.Poong:return 12;case h.Kong:return 16;case h.Single:default:return 4}if(e.setType===h.Pair&&(e.tileType===y.Dragon||e.tileType===y.Wind&&e.ownWind))return 2;var t=0;return e.setType===h.Poong?t=2:e.setType===h.Kong&&(t=8),(e.oneOrNine||e.tileType===y.Dragon||e.tileType===y.Wind)&&(t*=2),e.inHand&&(t*=2),t}));var a=1;if(Object(H.some)(e.sets,(function(e){return!!e.ownWind&&e.tileType===y.Wind&&(e.setType===h.Poong||e.setType===h.Kong)}))&&(a*=2),Object(H.some)(e.sets,(function(e){return e.tileType===y.Dragon&&(e.setType===h.Poong||e.setType===h.Kong)}))&&(a*=2),Object(H.some)(e.sets,(function(e){return e.tileType===y.Flower&&(e.setType===h.Poong||e.setType===h.Kong)}))&&(a*=2),e.isWinner){var r=!1,o=0,i=0,c=0;Object(H.forEach)(e.sets,(function(e){e.tileType===y.Bamboo&&(o=1),e.tileType===y.Circle&&(i=1),e.tileType===y.Character&&(c=1),e.tileType!==y.Dragon&&e.tileType!==y.Wind||(r=!0)})),o+i+c===1&&(a*=r?2:8)}return null!==(t=Object(H.min)([n*a,300]))&&void 0!==t?t:0}var oe=te.actions,ie=oe.loadFailed,ce=oe.loadSuccess,le=te.actions,ue=le.setPlayers,se=le.addUser,de=le.deleteUser,fe=le.clearGame,me=le.clearAllGames,pe=le.clearAll,ge=le.updateScore,be=le.saveGame,ye=function(){return function(e){e(Z?ce(function(){if(Z)try{return JSON.parse(localStorage.getItem("Main")||"")}catch(e){return null}return null}()):ie())}},he=function(e){return e.mahjongOverview.players||[]},ve=function(e){return e.mahjongOverview.games||[]},je=function(e){return e.mahjongOverview.currentGame||_()},Oe=function(e){return e.mahjongOverview.currentPlayers||[]},Ce=te.reducer,Ee=n(162),we=n(179),xe=n(170),Se=Object(R.b)((function(){return Object(J.B)({wrapper:{display:"flex",alignItems:"flex-end",margin:"30px 5px"}})}));function ke(e){var t=Object(N.a)()(Se),n={footer:{root:{margin:"5px"}},combobox:{root:{margin:"5px"}},firstRoot:{root:{flexGrow:"1",flexShrink:"1"}},firstContainer:{container:{flexGrow:"1",flexShrink:"1"}}},a=e.isOpen,i=e.onSave,c=e.onDelete,l=e.allPlayers,u=e.currentPlayers,s=o.a.useState([]),d=Object(F.a)(s,2),f=d[0],m=d[1],p=o.a.useState(null),g=Object(F.a)(p,2),b=g[0],y=g[1];Object(r.useEffect)((function(){for(var e=Object(V.a)(u),t=e.length;t<4;t++)e.push(Q(""));m(e)}),[u]);var h=function(){i(Object(H.filter)(f,(function(e){return!Object(H.isEmpty)(e.name)})))},O=[{key:"_",text:""}].concat(Object(V.a)(Object(H.map)(l,(function(e){return{key:e.id,text:e.name,data:e}})))),E=function(e){var t=Object(H.filter)(O,(function(t){return t.key===e.id||!Object(H.find)(f,(function(e){return t.key===e.id}))}));return 1===t.length?[]:t},w=Object(H.map)(f,(function(e,t){return function(e,t){return o.a.createElement(Ee.a,{key:t,"aria-label":"",selectedKey:e.id,autoComplete:"on",options:E(e),onChange:(a=t,function(e,t){var n=Object(V.a)(f);n.length>a&&(n[a]=(null===t||void 0===t?void 0:t.data)||Q("")),m(n)}),styles:n.combobox});var a}(e,t)})),x=function(e,t){y(null===t||void 0===t?void 0:t.data)},S=function(){b&&c(b)};return o.a.createElement("div",null,o.a.createElement(xe.a,{isOpen:a,isLightDismiss:!0,onDismiss:h,headerText:v({da:"V\xe6lg spillere",us:"Choose players"}),closeButtonAriaLabel:j(),onRenderFooterContent:function(){return o.a.createElement("div",null,o.a.createElement(K.a,{styles:n.footer,onClick:h},C()))},isFooterAtBottom:!0},w,o.a.createElement("div",{className:t.wrapper},o.a.createElement(Ee.a,{label:v({da:"Slet spiller",us:"Delete player"}),"aria-label":"",autoComplete:"on",selectedKey:null===b||void 0===b?void 0:b.id,options:1===O.length?[]:O,onChange:x,styles:n.firstContainer}),o.a.createElement(we.a,{iconProps:{iconName:"Delete"},onClick:S,title:T(),ariaLabel:T(),disabled:Object(H.isEmpty)(null===b||void 0===b?void 0:b.id)}))))}var Pe=n(59),Te=n(166),Be=n(174),Ie=Object(R.b)((function(){return Object(J.B)({page:{overflow:"auto"},content:{margin:"10px"},listItem:{display:"flex",margin:"10px"},listDescription:{margin:"0 20px",padding:"5px"}})})),Fe=n(169),Ne=(Object(R.b)((function(){return Object(J.B)({wrapper:{display:"flex",alignItems:"flex-end",margin:"30px 5px"}})})),n(83)),Ge=n.n(Ne),De=n(84),We=n.n(De),Le=n(85),Me=n.n(Le),Ae=n(86),Ke=n.n(Ae),Re=n(87),Je=n.n(Re),Ue=n(88),ze=n.n(Ue),Ve=n(89),qe=n.n(Ve),He=n(90),Qe=n.n(He),_e=n(91),Ye=n.n(_e),$e=n(92),Xe=n.n($e),Ze=n(93),et=n.n(Ze),tt=n(94),nt=n.n(tt),at=n(95),rt=n.n(at);function ot(e){switch(e){case y.Dragon:return v({da:"Drager",us:"Dragons"});case y.Wind:return v({da:"Vinde",us:"Wind"});case y.Bamboo:return v({da:"Bambus",us:"Bamboo"});case y.Circle:return v({da:"Cirkler",us:"Circles"});case y.Character:return v({da:"Tal",us:"Characters"});case y.Flower:return v({da:"Blomster",us:"Flowers"});default:return I()}}function it(e,t){switch(e){case y.Dragon:return Ge.a;case y.Wind:return We.a;case y.Bamboo:return Me.a;case y.Circle:return Je.a;case y.Character:return qe.a;case y.Flower:return 1===t?Ye.a:2===t?Xe.a:3===t?et.a:6===t?rt.a:nt.a;default:return}}function ct(e){return e?e.tileType===y.Flower?function(e){switch(e){case h.Single:return[it(y.Flower)];case h.Pair:return[it(y.Flower,6),it(y.Flower,3)];case h.Chow:return[it(y.Flower,1),it(y.Flower,2),it(y.Flower,6)];case h.Poong:return[it(y.Flower,1),it(y.Flower,2),it(y.Flower,4)];case h.Kong:return[it(y.Flower,1),it(y.Flower,2),it(y.Flower,3),it(y.Flower,4)];default:return[]}}(e.setType):function(e,t){var n=it(e);switch(t){case h.Pair:return[n,n];case h.Chow:return function(e){switch(e){case y.Bamboo:return[Ke.a];case y.Circle:return[ze.a];case y.Character:return[Qe.a];default:return[]}}(e);case h.Poong:return[n,n,n];case h.Kong:return[n,n,n,n];default:return[]}}(e.tileType,e.setType):[]}function lt(e){switch(e){case h.Single:return v({da:"Enkelt",us:"Single"});case h.Pair:return v({da:"Slut par",us:"End pair"});case h.Chow:return v({da:"Chow"});case h.Poong:return v({da:"Poong"});case h.Kong:return v({da:"Kong"});default:return I()}}function ut(e){var t={footer:{root:{margin:"5px"}},choiceGroup:{choiceFieldWrapper:{backgroundColor:"white"}}},n=e.isOpen,a=e.onClose,i=e.onCancel,c=o.a.useState(h.Poong),l=Object(F.a)(c,2),u=l[0],s=l[1],d=o.a.useState(y.Bamboo),f=Object(F.a)(d,2),m=f[0],p=f[1],g=o.a.useState(!1),b=Object(F.a)(g,2),O=b[0],E=b[1],w=o.a.useState(!1),k=Object(F.a)(w,2),P=k[0],T=k[1],B=o.a.useState(!1),I=Object(F.a)(B,2),N=I[0],G=I[1];Object(r.useEffect)((function(){s(h.Poong),p(y.Bamboo),E(!1),T(!1),G(!1)}),[n]);var D=function(){a({tileType:m,setType:u,inHand:O,oneOrNine:P,ownWind:N})},W=function(e,n){return{key:e.toString(),imageSrc:it(e),selectedImageSrc:it(e),imageSize:{width:40,height:55},imageAlt:ot(e),text:ot(e),disabled:n,styles:t.choiceGroup}},L=function(e){return{key:e,text:lt(e)}},M=m!==y.Flower,A=m===y.Bamboo||m===y.Circle||m===y.Character,R=m===y.Wind;return o.a.createElement("div",null,o.a.createElement(xe.a,{isOpen:n,isLightDismiss:!0,onDismiss:i,headerText:v({da:"Score",us:"Score picker"}),closeButtonAriaLabel:j(),onRenderFooterContent:function(){return o.a.createElement("div",null,o.a.createElement(K.a,{styles:t.footer,onClick:D},C()))},isFooterAtBottom:!0},o.a.createElement(Te.a,{tokens:{childrenGap:10}},o.a.createElement(Fe.a,{label:v({da:"V\xe6lg s\xe6t type",us:"Choose set type"}),selectedKey:m.toString(),onChange:function(e,t){var n,a=parseInt(null!==(n=null===t||void 0===t?void 0:t.key)&&void 0!==n?n:y.Bamboo.toString());a===y.Flower?u===h.Poong&&s(h.Single):u===h.Single&&s(h.Poong),p(a)},options:function(){var e=u===h.Chow;return[W(y.Dragon,e),W(y.Wind,e),W(y.Character),W(y.Circle),W(y.Bamboo),W(y.Flower,e)]}()}),o.a.createElement(Ee.a,{label:v({da:"V\xe6lg antal i s\xe6t",us:"Choose count in set"}),"aria-label":"",autoComplete:"on",selectedKey:u,options:function(){var e=[];return m!==y.Bamboo&&m!==y.Circle&&m!==y.Character||e.push(L(h.Chow)),e.push(L(h.Poong)),e.push(L(h.Kong)),e.push(L(h.Pair)),m===y.Flower&&e.push(L(h.Single)),e}(),onChange:function(e,t){var n;s(null!==(n=null===t||void 0===t?void 0:t.key)&&void 0!==n?n:h.Poong)}}),M&&o.a.createElement(Be.a,{label:v({da:"Er s\xe6t p\xe5 h\xe5nden?",us:"Is set in hand?"}),checked:O,inlineLabel:!0,onText:x(),offText:S(),onChange:function(e,t){E(!!t)}}),A&&o.a.createElement(Be.a,{label:v({da:"Er det ener eller nier?",us:"Is it one or nine?"}),checked:P,inlineLabel:!0,onText:x(),offText:S(),onChange:function(e,t){T(!!t)}}),R&&o.a.createElement(Be.a,{label:v({da:"Er det egen vind?",us:"Is it your own wind?"}),checked:N,inlineLabel:!0,onText:x(),offText:S(),onChange:function(e,t){G(!!t)}}))))}function st(e){var t,n=Object(N.a)()(Ie),a={commandBar:{root:{padding:"5px"}},dashboard:{root:{padding:"24px 0 0 0"}},listButton:{root:{marginTop:"10px",marginLeft:"auto"}},footer:{root:{marginTop:30,float:"right",marginRight:30}}},i=e.user,c=e.onNavigateBack,u=Object(l.c)(je),s=o.a.useState(void 0),d=Object(F.a)(s,2),f=d[0],m=d[1],p=o.a.useState(!1),g=Object(F.a)(p,2),b=g[0],y=g[1];Object(r.useEffect)((function(){i&&u&&m($(u,i))}),[i,u]);var h=Y(""),j=Object(l.b)(),O=function(){y(!0)},C=[{key:"Back",name:v({da:"Tilbage",us:"Back"}),iconProps:{iconName:"Back"},onClick:function(){f&&j(ge(f)),c()}},{key:"Score",name:E(),iconProps:{iconName:"6PointStar"},onClick:O}];return o.a.createElement("div",{className:n.page},o.a.createElement(M.a,{items:C,styles:a.commandBar}),o.a.createElement("div",{className:n.content},o.a.createElement("h1",null,i.name),o.a.createElement("p",null,B(null!==(t=null===f||void 0===f?void 0:f.points)&&void 0!==t?t:0)),o.a.createElement(Te.a,{tokens:{childrenGap:10}},o.a.createElement(Be.a,{label:v({da:"Vandt du?",us:"Did you win?"}),checked:null===f||void 0===f?void 0:f.isWinner,inlineLabel:!0,onText:x(),offText:S(),onChange:function(e,t){return function(e){var t=Object(z.a)({},h,{},f,{isWinner:e});t.points=re(t),m(t)}(t)}}),o.a.createElement(Be.a,{label:v({da:"Er du \xf8st?",us:"Are you east?"}),checked:null===f||void 0===f?void 0:f.isEast,inlineLabel:!0,onText:x(),offText:S(),onChange:function(e,t){return n=t,void m(Object(z.a)({},h,{},f,{isEast:n}));var n}})),o.a.createElement(A.a,{items:null===f||void 0===f?void 0:f.sets,onRenderCell:function(e){return e?o.a.createElement("div",{className:n.listItem},function(e){return Object(H.map)(ct(e),(function(t,n){return o.a.createElement(Pe.a,{key:n,src:t,alt:ot(e.tileType),height:55})}))}(e),o.a.createElement("div",{className:n.listDescription},o.a.createElement("div",null,ot(null===e||void 0===e?void 0:e.tileType)),o.a.createElement("div",null,lt(null===e||void 0===e?void 0:e.setType))),o.a.createElement(we.a,{iconProps:{iconName:"Delete"},title:T(),ariaLabel:T(),onClick:function(){!function(e){if(f){var t=Object(z.a)({},h,{},f,{sets:Object(H.without)(f.sets,e)});t.points=re(t),m(t)}}(e)},styles:a.listButton})):null}}),o.a.createElement(K.a,{styles:a.footer,onClick:O},E())),o.a.createElement(ut,{isOpen:b,onClose:function(e){if(f){var t=Object(z.a)({},h,{},f,{sets:[].concat(Object(V.a)(f.sets||[]),[e])});t.points=re(t),m(t)}y(!1)},onCancel:function(){return y(!1)}}))}var dt=n(164),ft=n(36),mt=n(96),pt=n(99);function gt(e){var t=e.isOpen,n=e.onAdd,a=e.onCancel,i=e.allPlayers,c=o.a.useState(),u=Object(F.a)(c,2),s=u[0],d=u[1],f=o.a.useState([]),m=Object(F.a)(f,2),p=m[0],g=m[1],b=Object(l.b)();Object(r.useEffect)((function(){d(void 0)}),[t]);var y=function(e){return{key:e.id,text:e.name,data:e}};Object(r.useEffect)((function(){g(Object(H.map)(i,y))}),[i]);return o.a.createElement(dt.a,{hidden:!t,onDismiss:a,dialogContentProps:{type:ft.a.normal,title:w(),closeButtonAriaLabel:O()},modalProps:{isBlocking:!1}},o.a.createElement(Ee.a,{ariaLabel:w(),key:"User",selectedKey:null===s||void 0===s?void 0:s.id,allowFreeform:!0,autoComplete:"on",onChange:function(e,t,n,a){if(null===t||void 0===t?void 0:t.data)d(t.data);else{var r=(null===t||void 0===t?void 0:t.text)||a;if(r){var o=Q(r);b(se(o)),d(o),g([].concat(Object(V.a)(p),[y(o)]))}}},options:p}),o.a.createElement(mt.a,null,o.a.createElement(K.a,{onClick:function(){s&&n(s)},text:C()}),o.a.createElement(pt.a,{onClick:a,text:O()})))}function bt(){var e=Object(N.a)()(U),t={commandBar:{root:{padding:"5px"}},dashboard:{root:{padding:"24px 0 0 0"}},listItem:{root:{maxWidth:"100%",width:"100%",padding:"20px 10px 20px 20px",margin:"10px 0"},flexContainer:{justifyContent:"flex-start"}},footerButton:{root:{marginTop:30,float:"right",marginRight:30}}},n=o.a.useState(0),i=Object(F.a)(n,2),c=i[0],u=i[1],s=o.a.useState(!1),d=Object(F.a)(s,2),m=d[0],p=d[1],g=o.a.useState(!1),b=Object(F.a)(g,2),y=b[0],h=b[1],j=o.a.useState(void 0),O=Object(F.a)(j,2),C=O[0],w=O[1],x=o.a.useState([]),S=Object(F.a)(x,2),T=S[0],I=S[1],R=Object(l.c)(he),J=Object(l.c)(Oe),z=Object(l.c)(Oe),V=Object(l.c)(je),q=Object(l.c)(ve),Q=Object(l.b)();Object(r.useEffect)((function(){Q(ye())}),[Q]),Object(r.useEffect)((function(){var e=function(e,t){var n=Object(H.uniqBy)(t,(function(e){return e.id})),a=Object(H.filter)(e,(function(e){var t=Object(H.uniqBy)(e.score,(function(e){return e.playerId}));return n.length===t.length&&!Object(H.some)(n,(function(e){return!Object(H.find)(t,(function(t){return t.playerId===e.id}))}))}));return 0===a.length?[]:Object(H.map)(n,(function(e){return{playerId:e.id,score:Object(H.sumBy)(a,(function(t){var n,a=Object(H.find)(t.score,(function(t){return t.playerId===e.id}));return null!==(n=null===a||void 0===a?void 0:a.gameScore)&&void 0!==n?n:0}))}}))}(q,J);I(e),u(c+1)}),[q,J]);var _=function(){return p(!0)},Y=function(e){return function(){w(e)}},X=[{key:"Back",text:v({da:"Hjem",us:"Home"}),iconProps:{iconName:"Home"},onClick:function(){Q(f(a.Main))}},{key:"Select",text:k(),iconProps:{iconName:"People"},ariaLabel:k(),subMenuProps:{items:[{key:"add",text:E(),iconProps:{iconName:"People"},onClick:_},{key:"SelectOrDelete",text:k(),iconProps:{iconName:"People"},onClick:function(){return h(!0)}}]}},{key:"save",text:v({da:"Gem point",us:"Save score"}),iconProps:{iconName:"Save"},onClick:function(){Q(be())}},{key:"Clear",text:P(),iconProps:{iconName:"Delete"},ariaLabel:P(),subMenuProps:{items:[{key:"ClearAll",text:v({da:"Slet alt",us:"Remove all"}),iconProps:{iconName:"UserRemove"},onClick:function(){Q(pe()),u(c+1)},disabled:!0},{key:"ClearGames",text:v({da:"Slet alle point",us:"Clear all points"}),iconProps:{iconName:"RemoveFromShoppingList"},onClick:function(){Q(me()),u(c+1)}},{key:"ClearGame",text:v({da:"Slet point",us:"Clear points"}),iconProps:{iconName:"RemoveFromShoppingList"},onClick:function(){Q(fe()),u(c+1)}}]}}];return C?o.a.createElement(st,{user:C,onNavigateBack:function(){w(void 0),u(c+1)}}):o.a.createElement("div",{className:e.page},o.a.createElement(M.a,{items:X,styles:t.commandBar}),o.a.createElement("h1",{className:e.header},v({da:"MahJong lommeregner",us:"MahJong calculator"})),o.a.createElement(gt,{isOpen:m,onAdd:function(e){Q(se(e)),p(!1)},onCancel:function(){p(!1),h(!1)},allPlayers:R}),o.a.createElement(ke,{isOpen:y,onSave:function(e){Q(ue(e)),h(!1)},onDelete:function(e){Q(de(e))},allPlayers:R,currentPlayers:J}),o.a.createElement(A.a,{className:e.list,version:c,items:z,onRenderCell:function(n){if(!n)return null;var a,r,i=$(V,n),c=i.isWinner?o.a.createElement(G.a,{iconName:"SkypeCheck",className:i.isEast?e.winnerIcon2:e.winnerIcon}):null,l=i.isEast?o.a.createElement(G.a,{iconName:"CompassNW",className:e.eastIcon}):null,u=Object(H.find)(T,(function(e){return e.playerId===n.id})),s=u?(a=i.gameScore,r=u.score,v({da:"Samlet score: ".concat(a,"\u2003(").concat(r,")"),us:"Total score: ".concat(a,"\u2003(").concat(r,")")})):function(e){return v({da:"Samlet score: ".concat(e),us:"Total score: ".concat(e)})}(i.gameScore);return o.a.createElement(D.a,{styles:t.listItem,onClick:Y(n)},o.a.createElement(W.a,{text:null===n||void 0===n?void 0:n.name,secondaryText:B(i.points),tertiaryText:s,size:L.c.size72}),l,c)}}),(null===z||void 0===z?void 0:z.length)<4&&o.a.createElement(K.a,{styles:t.footerButton,onClick:_},k()))}function yt(){var e=Object(l.c)(m),t=Object(l.b)();switch(e){case a.MahJong:return o.a.createElement(bt,null);case a.Main:return o.a.createElement(g.a,{selectedKey:"key0",ariaLabel:"Nav basic example",groups:[{links:[{name:v({da:"MahJong"}),url:"",key:"key0",target:"_blank",onClick:function(){t(f(a.MahJong))}}]}]})}}var ht=n(160),vt=Object(u.a)({reducer:{main:p,mahjongOverview:Ce}}),jt=n(159),Ot=Object(J.A)({palette:{themePrimary:"#2266e3",themeLighterAlt:"#f5f8fe",themeLighter:"#d8e4fb",themeLight:"#b8cef7",themeTertiary:"#759fee",themeSecondary:"#3a76e6",themeDarkAlt:"#1f5bcc",themeDark:"#1a4dac",themeDarker:"#13397f",neutralLighterAlt:"#faf9f8",neutralLighter:"#f3f2f1",neutralLight:"#edebe9",neutralQuaternaryAlt:"#e1dfdd",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c6c4",neutralTertiary:"#a19f9d",neutralSecondary:"#605e5c",neutralPrimaryAlt:"#3b3a39",neutralPrimary:"#323130",neutralDark:"#201f1e",black:"#000000",white:"#ffffff"}}),Ct=function(){return Object(r.useEffect)((function(){Object(ht.a)()})),o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:vt},o.a.createElement(jt.a,{theme:Ot},o.a.createElement(yt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,n){e.exports=n.p+"static/media/MahjongGreenDragon.ae5a6502.jpg"},84:function(e,t,n){e.exports=n.p+"static/media/MahjongEast.7287d189.jpg"},85:function(e,t,n){e.exports=n.p+"static/media/MahjongBamboo6.93503ad1.jpg"},86:function(e,t,n){e.exports=n.p+"static/media/MahjongBambooChow.b2d6588f.jpg"},87:function(e,t,n){e.exports=n.p+"static/media/MahjongCircle5.5776cb62.jpg"},88:function(e,t,n){e.exports=n.p+"static/media/MahjongCircleChow.cc8debbe.jpg"},89:function(e,t,n){e.exports=n.p+"static/media/MahjongCharacter4.711aa9d4.jpg"},90:function(e,t,n){e.exports=n.p+"static/media/MahjongCharacterChow.79f76632.jpg"},91:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason1.2d153ff1.jpg"},92:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason2.ce673dd6.jpg"},93:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason3.d676d4a5.jpg"},94:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason4.81b5c8aa.jpg"},95:function(e,t,n){e.exports=n.p+"static/media/MahjongFlower2.9efa08e5.jpg"}},[[105,1,2]]]);
//# sourceMappingURL=main.88051481.chunk.js.map