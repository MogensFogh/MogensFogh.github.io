(this.webpackJsonpmahjong=this.webpackJsonpmahjong||[]).push([[0],{108:function(e,t,n){e.exports=n(120)},113:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(36),c=n.n(i),l=(n(113),n(11)),u=n(30),s=function(e){if(m)try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return null}return null},d=function(e,t){if(m)try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return!1}return!1},m=function(){try{var e=localStorage.getItem("");return localStorage.removeItem(""),localStorage.setItem("",e||""),null===e?localStorage.removeItem(""):localStorage.setItem("",e),!0}catch(t){return!1}}(),f={da:"da-DK",en:"en-US",ru:"ru-RU",zh:"zh-TW"},p={da:"da",en:"en",ru:"ru",zh:"zh"},g="da";function b(e){g=e}function h(){return p[g]}function y(){return f[h()]}function v(e){var t=h();return t&&e&&e[t]?e[t]:e.da||e.en}function j(e){return e.toLocaleDateString(y())}!function(e){e[e.Main=0]="Main",e[e.MahJong=1]="MahJong",e[e.Training=2]="Training",e[e.Playground=3]="Playground"}(a||(a={}));var O={page:a.MahJong,language:"da"},S=Object(u.b)({name:"main",initialState:O,reducers:{navigate:function(e,t){e.page=t.payload,P(e)},setLanguage:function(e,t){b(t.payload),e.language=t.payload,P(e)},loadFailed:function(e){b(O.language)},loadSuccess:function(e,t){var n,r;e.page=null!==(n=null===(r=t.payload)||void 0===r?void 0:r.page)&&void 0!==n?n:a.MahJong}}}),w=S.actions,x=w.loadSuccess,E=w.loadFailed,k=S.actions,C=k.navigate,T=k.setLanguage;function P(e){d("Main",e)}var D,B,F=function(e){return e.main.page},M=function(e){return e.main.language},L=S.reducer,N=n(34),A=n(14),I=n(179),G=n(5);function W(e){return{id:Object(I.a)(),name:e}}function R(){return{id:Object(I.a)(),score:[]}}function J(e){return{gameScore:0,points:0,sets:[],playerId:e}}function K(e,t){return function(e,t){return Object(G.find)(e.score,(function(e){return e.playerId===t}))}(e,t.id)||J(t.id)}!function(e){e[e.Dragon=0]="Dragon",e[e.Wind=1]="Wind",e[e.Bamboo=2]="Bamboo",e[e.Circle=3]="Circle",e[e.Character=4]="Character",e[e.Flower=5]="Flower"}(D||(D={})),function(e){e[e.Chow=0]="Chow",e[e.Poong=1]="Poong",e[e.Kong=2]="Kong",e[e.Pair=3]="Pair",e[e.Single=4]="Single"}(B||(B={}));var z={players:[],games:[],currentPlayers:[],currentGame:R()},Y=Object(u.b)({name:"mahjongOverview",initialState:z,reducers:{loadFailed:function(e){z},loadSuccess:function(e,t){var n,a,r,o,i,c,l,u;e.players=null!==(n=null===(a=t.payload)||void 0===a?void 0:a.players)&&void 0!==n?n:z.players,e.games=null!==(r=null===(o=t.payload)||void 0===o?void 0:o.games)&&void 0!==r?r:z.games,e.currentPlayers=null!==(i=null===(c=t.payload)||void 0===c?void 0:c.currentPlayers)&&void 0!==i?i:z.currentPlayers,e.currentGame=null!==(l=null===(u=t.payload)||void 0===u?void 0:u.currentGame)&&void 0!==l?l:z.currentGame,U(e),V(e.currentGame)},setPlayers:function(e,t){e.currentPlayers=t.payload,U(e)},addUser:function(e,t){e.players=Object(G.uniqBy)(e.players,(function(e){return e.name})),e.players=Object(G.uniqBy)(e.players,(function(e){return e.id})),e.players&&!Object(G.find)(e.players,(function(e){return e.name===t.payload.name}))&&e.players.push(t.payload),e.currentPlayers.length<4&&!Object(G.find)(e.currentPlayers,(function(e){return e.id===t.payload.id}))&&e.currentPlayers.push(t.payload),U(e)},deleteUser:function(e,t){e.players&&(e.players=Object(G.filter)(e.players,(function(e){return e.id!==t.payload.id})),e.currentPlayers=Object(G.filter)(e.currentPlayers,(function(e){return e.id!==t.payload.id})),U(e))},clearGame:function(e){Object(G.forEach)(e.currentGame.score,(function(e){e.sets=[],e.points=0,e.gameScore=0,e.isWinner=!1,e.isEast=!1})),ie(e)},clearAllGames:function(e){Object(G.forEach)(e.currentGame.score,(function(e){e.sets=[],e.points=0,e.gameScore=0,e.isWinner=!1,e.isEast=!1})),e.games=[],ie(e)},clearAll:function(e){ie(z)},updateScore:function(e,t){var n,a=Object(G.find)(null===(n=e.currentGame)||void 0===n?void 0:n.score,(function(e){var n;return e.playerId===(null===(n=t.payload)||void 0===n?void 0:n.playerId)}));if(a){var r=Object(G.without)(e.currentGame.score,a);Object(G.forEach)(r,(function(e){t.payload.isWinner&&(e.isWinner=!1),t.payload.isEast&&(e.isEast=!1)})),e.currentGame.score=[].concat(Object(A.a)(r),[Object(N.a)({},t.payload)]),V(e.currentGame),ie(e)}},saveGame:function(e){V(e.currentGame),Object(G.some)(e.currentGame.score,(function(e){return 0!==e.points}))&&(e.games=[].concat(Object(A.a)(e.games),[e.currentGame]),e.currentGame=R(),U(e),ie(e))}}});function U(e){e.currentPlayers=Object(G.filter)(e.currentPlayers,(function(t){return!!Object(G.find)(e.players,(function(e){return e.id===t.id}))})),e.currentPlayers=Object(G.uniqBy)(e.currentPlayers,(function(e){return e.id})),e.currentGame.score=Object(G.map)(e.currentPlayers,(function(t,n){return Object(G.find)(e.currentGame.score,(function(e){return e.playerId===t.id}))||J(t.id)})),ie(e)}function V(e){if((null===e||void 0===e?void 0:e.score)&&!(e.score.length<=1)){var t=!1;Object(G.forEach)(e.score,(function(e){e.points=H(e),t=t||!!e.isWinner})),t&&Object(G.forEach)(e.score,(function(t){t.gameScore=Object(G.sumBy)(e.score,(function(e){if(e.playerId===t.playerId)return 0;var n=e.isWinner?0:t.points;return t.isWinner||(n-=e.points),e.isEast||t.isEast?2*n:n}))}))}}function H(e){var t,n=e.isWinner?10:0;n+=Object(G.sumBy)(e.sets,(function(e){if(e.tileType===D.Flower)switch(e.setType){case B.Pair:return 8;case B.Chow:case B.Poong:return 12;case B.Kong:return 16;case B.Single:default:return 4}if(e.setType===B.Pair&&(e.tileType===D.Dragon||e.tileType===D.Wind&&e.ownWind))return 2;var t=0;return e.setType===B.Poong?t=2:e.setType===B.Kong&&(t=8),(e.oneOrNine||e.tileType===D.Dragon||e.tileType===D.Wind)&&(t*=2),e.inHand&&(t*=2),t}));var a=1;if(Object(G.some)(e.sets,(function(e){return!!e.ownWind&&e.tileType===D.Wind&&(e.setType===B.Poong||e.setType===B.Kong)}))&&(a*=2),Object(G.some)(e.sets,(function(e){return e.tileType===D.Dragon&&(e.setType===B.Poong||e.setType===B.Kong)}))&&(a*=2),Object(G.some)(e.sets,(function(e){return e.tileType===D.Flower&&(e.setType===B.Poong||e.setType===B.Kong)}))&&(a*=2),e.isWinner){var r=!1,o=0,i=0,c=0;Object(G.forEach)(e.sets,(function(e){e.tileType===D.Bamboo&&(o=1),e.tileType===D.Circle&&(i=1),e.tileType===D.Character&&(c=1),e.tileType!==D.Dragon&&e.tileType!==D.Wind||(r=!0)})),o+i+c===1&&(a*=r?2:8)}return null!==(t=Object(G.min)([n*a,300]))&&void 0!==t?t:0}var q=Y.actions,_=q.loadFailed,Q=q.loadSuccess,$=Y.actions,X=$.setPlayers,Z=$.addUser,ee=$.deleteUser,te=$.clearGame,ne=$.clearAllGames,ae=$.clearAll,re=$.updateScore,oe=$.saveGame;function ie(e){d("Mahjong",e)}var ce=function(e){return e.mahjongOverview.players||[]},le=function(e){return e.mahjongOverview.games||[]},ue=function(e){return e.mahjongOverview.currentGame||R()},se=function(e){return e.mahjongOverview.currentPlayers||[]},de=Y.reducer,me={pushups:[]},fe=Object(u.b)({name:"TrainingOverview",initialState:me,reducers:{loadFailed:function(e){me},loadSuccess:function(e,t){var n,a;e.pushups=null!==(n=null===(a=t.payload)||void 0===a?void 0:a.pushups)&&void 0!==n?n:[]},addPushups:function(e,t){var n,a,r,o,i,c=(o=e.pushups,i=new Date(null!==(n=t.payload.date)&&void 0!==n?n:new Date),Object(G.filter)(o,(function(e){var t,n,a;return new Date(null!==(t=e.date)&&void 0!==t?t:new Date).getDate()===i.getDate()&&new Date(null!==(n=e.date)&&void 0!==n?n:new Date).getMonth()===i.getMonth()&&new Date(null!==(a=e.date)&&void 0!==a?a:new Date).getFullYear()===i.getFullYear()})));e.pushups=G.without.apply(void 0,[e.pushups].concat(Object(A.a)(c)));var l={count:t.payload.count,date:(null!==(a=t.payload.date)&&void 0!==a?a:new Date).toString()};for(c.push(l);c.length>2;){var u=Object(G.minBy)(c,(function(e){return e.count}))||l;c=Object(G.without)(c,u)}(r=e.pushups).push.apply(r,Object(A.a)(c)),je(e)},removePushups:function(e,t){var n=Object(G.find)(e.pushups,(function(e){return e.count===t.payload.count&&e.date===t.payload.date}));n&&(e.pushups=Object(G.without)(e.pushups,n)),je(e)}}}),pe=fe.actions,ge=pe.loadFailed,be=pe.loadSuccess,he=fe.actions,ye=he.addPushups,ve=he.removePushups;function je(e){d("Training",e)}function Oe(e){var t;return null!==(t=Object(G.max)([500-Object(G.sumBy)(e,(function(e){return e.count})),0]))&&void 0!==t?t:0}function Se(e,t){return Oe(e)/(function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}(t)-t.getDate()+1)}function we(e){return new Date(e.getFullYear(),e.getMonth(),1)}var xe=function(e){return e.training.pushups},Ee=fe.reducer,ke=n(79),Ce={area:{graph:[]},townHall:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{name:e,width:t,length:n,needRoad:a}}("TownHall",7,6,!0),buildings:[{name:"TH",width:4,length:4,needRoad:!0}]},Te=Object(u.b)({name:"PlaygroundOverview",initialState:Ce,reducers:{loadFailed:function(e){Ce},loadSuccess:function(e,t){}}}),Pe=Te.actions,De=Pe.loadFailed,Be=Pe.loadSuccess;Object(ke.a)(Te.actions);var Fe=Te.reducer,Me=n(8),Le=n(148),Ne=n(82),Ae=n(184),Ie=n(163),Ge=n(3),We=n(183),Re=n(157),Je=n(22),Ke=n(4),ze=Object(Je.b)((function(){return Object(Ke.B)({list:{margin:"0 10px"},winnerIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto",color:"green"},winnerIcon2:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"0px",color:"green"},eastIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto"}})})),Ye=function(){return v({da:"Luk",en:"Close"})},Ue=function(){return v({da:"Afbryd",en:"Cancel"})},Ve=function(){return v({da:"Ok"})},He=function(){return v({da:"Tilf\xf8j",en:"Add"})},qe=function(){return v({da:"Tilf\xf8j spiller",en:"Add player"})},_e=function(){return v({da:"Jeps",en:"Yes"})},Qe=function(){return v({da:"Nope",en:"No way"})},$e=function(){return v({da:"V\xe6lg spillere",en:"Choose players"})},Xe=function(){return v({da:"Slet spiller",en:"Delete player"})},Ze=function(e){return v({da:"Score: ".concat(e),en:"Score: ".concat(e)})},et=function(){return v({da:"Ukendt",en:"Unknown"})},tt=function(){return v({da:"Tilf\xf8j",en:"Add"})},nt=function(){return v({da:"Dato",en:"Date"})},at=function(e){return v({da:"Tilf\xf8j ".concat(e),en:"Add ".concat(e)})},rt=function(e,t){return v({da:"".concat(t,": ").concat(e)})},ot=n(164),it=n(182),ct=n(173),lt=Object(Je.b)((function(){return Object(Ke.B)({wrapper:{display:"flex",alignItems:"flex-end",margin:"30px 5px"}})}));function ut(e){var t=Object(Le.a)()(lt),n={footer:{root:{margin:"5px"}},combobox:{root:{margin:"5px"}},firstRoot:{root:{flexGrow:"1",flexShrink:"1"}},firstContainer:{container:{flexGrow:"1",flexShrink:"1"}}},a=e.isOpen,i=e.onSave,c=e.onDelete,l=e.allPlayers,u=e.currentPlayers,s=o.a.useState([]),d=Object(Me.a)(s,2),m=d[0],f=d[1],p=o.a.useState(null),g=Object(Me.a)(p,2),b=g[0],h=g[1];Object(r.useEffect)((function(){for(var e=Object(A.a)(u),t=e.length;t<4;t++)e.push(W(""));f(e)}),[u]);var y=function(){i(Object(G.filter)(m,(function(e){return!Object(G.isEmpty)(e.name)})))},j=[{key:"_",text:""}].concat(Object(A.a)(Object(G.map)(l,(function(e){return{key:e.id,text:e.name,data:e}})))),O=function(e){var t=Object(G.filter)(j,(function(t){return t.key===e.id||!Object(G.find)(m,(function(e){return t.key===e.id}))}));return 1===t.length?[]:t},S=Object(G.map)(m,(function(e,t){return function(e,t){return o.a.createElement(ot.a,{key:t,"aria-label":"",selectedKey:e.id,autoComplete:"on",options:O(e),onChange:(a=t,function(e,t){var n=Object(A.a)(m);n.length>a&&(n[a]=(null===t||void 0===t?void 0:t.data)||W("")),f(n)}),styles:n.combobox});var a}(e,t)})),w=function(e,t){h(null===t||void 0===t?void 0:t.data)},x=function(){b&&c(b)};return o.a.createElement("div",null,o.a.createElement(ct.a,{isOpen:a,isLightDismiss:!0,onDismiss:y,headerText:v({da:"V\xe6lg spillere",en:"Choose players"}),closeButtonAriaLabel:Ye(),onRenderFooterContent:function(){return o.a.createElement("div",null,o.a.createElement(Re.a,{styles:n.footer,onClick:y},Ve()))},isFooterAtBottom:!0},S,o.a.createElement("div",{className:t.wrapper},o.a.createElement(ot.a,{label:v({da:"Slet spiller",en:"Delete player"}),"aria-label":"",autoComplete:"on",selectedKey:null===b||void 0===b?void 0:b.id,options:1===j.length?[]:j,onChange:w,styles:n.firstContainer}),o.a.createElement(it.a,{iconProps:{iconName:"Delete"},onClick:x,title:Xe(),ariaLabel:Xe(),disabled:Object(G.isEmpty)(null===b||void 0===b?void 0:b.id)}))))}var st=n(63),dt=n(165),mt=n(169),ft=n(177),pt=Object(Je.b)((function(){return Object(Ke.B)({page:{overflow:"auto"},content:{margin:"10px"},listItem:{display:"flex",margin:"10px"},listDescription:{margin:"0 20px",padding:"5px"}})})),gt=n(172),bt=(Object(Je.b)((function(){return Object(Ke.B)({wrapper:{display:"flex",alignItems:"flex-end",margin:"30px 5px"}})})),n(86)),ht=n.n(bt),yt=n(87),vt=n.n(yt),jt=n(88),Ot=n.n(jt),St=n(89),wt=n.n(St),xt=n(90),Et=n.n(xt),kt=n(91),Ct=n.n(kt),Tt=n(92),Pt=n.n(Tt),Dt=n(93),Bt=n.n(Dt),Ft=n(94),Mt=n.n(Ft),Lt=n(95),Nt=n.n(Lt),At=n(96),It=n.n(At),Gt=n(97),Wt=n.n(Gt),Rt=n(98),Jt=n.n(Rt);function Kt(e){switch(e){case D.Dragon:return v({da:"Drager",en:"Dragons"});case D.Wind:return v({da:"Vinde",en:"Wind"});case D.Bamboo:return v({da:"Bambus",en:"Bamboo"});case D.Circle:return v({da:"Cirkler",en:"Circles"});case D.Character:return v({da:"Tal",en:"Characters"});case D.Flower:return v({da:"Blomster",en:"Flowers"});default:return et()}}function zt(e,t){switch(e){case D.Dragon:return ht.a;case D.Wind:return vt.a;case D.Bamboo:return Ot.a;case D.Circle:return Et.a;case D.Character:return Pt.a;case D.Flower:return 1===t?Mt.a:2===t?Nt.a:3===t?It.a:6===t?Jt.a:Wt.a;default:return}}function Yt(e){return e?e.tileType===D.Flower?function(e){switch(e){case B.Single:return[zt(D.Flower)];case B.Pair:return[zt(D.Flower,6),zt(D.Flower,3)];case B.Chow:return[zt(D.Flower,1),zt(D.Flower,2),zt(D.Flower,6)];case B.Poong:return[zt(D.Flower,1),zt(D.Flower,2),zt(D.Flower,4)];case B.Kong:return[zt(D.Flower,1),zt(D.Flower,2),zt(D.Flower,3),zt(D.Flower,4)];default:return[]}}(e.setType):function(e,t){var n=zt(e);switch(t){case B.Pair:return[n,n];case B.Chow:return function(e){switch(e){case D.Bamboo:return[wt.a];case D.Circle:return[Ct.a];case D.Character:return[Bt.a];default:return[]}}(e);case B.Poong:return[n,n,n];case B.Kong:return[n,n,n,n];default:return[]}}(e.tileType,e.setType):[]}function Ut(e){switch(e){case B.Single:return v({da:"Enkelt",en:"Single"});case B.Pair:return v({da:"Slut par",en:"End pair"});case B.Chow:return v({da:"Chow"});case B.Poong:return v({da:"Poong"});case B.Kong:return v({da:"Kong"});default:return et()}}function Vt(e){var t={footer:{root:{margin:"5px"}},choiceGroup:{choiceFieldWrapper:{backgroundColor:"white"}}},n=e.isOpen,a=e.onClose,i=e.onCancel,c=o.a.useState(B.Poong),l=Object(Me.a)(c,2),u=l[0],s=l[1],d=o.a.useState(D.Bamboo),m=Object(Me.a)(d,2),f=m[0],p=m[1],g=o.a.useState(!1),b=Object(Me.a)(g,2),h=b[0],y=b[1],j=o.a.useState(!1),O=Object(Me.a)(j,2),S=O[0],w=O[1],x=o.a.useState(!1),E=Object(Me.a)(x,2),k=E[0],C=E[1];Object(r.useEffect)((function(){s(B.Poong),p(D.Bamboo),y(!1),w(!1),C(!1)}),[n]);var T=function(){a({tileType:f,setType:u,inHand:h,oneOrNine:S,ownWind:k})},P=function(e,n){return{key:e.toString(),imageSrc:zt(e),selectedImageSrc:zt(e),imageSize:{width:40,height:55},imageAlt:Kt(e),text:Kt(e),disabled:n,styles:t.choiceGroup}},F=function(e){return{key:e,text:Ut(e)}},M=f!==D.Flower,L=f===D.Bamboo||f===D.Circle||f===D.Character,N=f===D.Wind;return o.a.createElement("div",null,o.a.createElement(ct.a,{isOpen:n,isLightDismiss:!0,onDismiss:i,headerText:v({da:"Score",en:"Score picker"}),closeButtonAriaLabel:Ye(),onRenderFooterContent:function(){return o.a.createElement("div",null,o.a.createElement(Re.a,{styles:t.footer,onClick:T},Ve()))},isFooterAtBottom:!0},o.a.createElement(mt.a,{tokens:{childrenGap:10}},o.a.createElement(gt.a,{label:v({da:"V\xe6lg s\xe6t type",en:"Choose set type"}),selectedKey:f.toString(),onChange:function(e,t){var n,a=parseInt(null!==(n=null===t||void 0===t?void 0:t.key)&&void 0!==n?n:D.Bamboo.toString());a===D.Flower?u===B.Poong&&s(B.Single):u===B.Single&&s(B.Poong),p(a)},options:function(){var e=u===B.Chow;return[P(D.Dragon,e),P(D.Wind,e),P(D.Character),P(D.Circle),P(D.Bamboo),P(D.Flower,e)]}()}),o.a.createElement(ot.a,{label:v({da:"V\xe6lg antal i s\xe6t",en:"Choose count in set"}),"aria-label":"",autoComplete:"on",selectedKey:u,options:function(){var e=[];return f!==D.Bamboo&&f!==D.Circle&&f!==D.Character||e.push(F(B.Chow)),e.push(F(B.Poong)),e.push(F(B.Kong)),e.push(F(B.Pair)),f===D.Flower&&e.push(F(B.Single)),e}(),onChange:function(e,t){var n;s(null!==(n=null===t||void 0===t?void 0:t.key)&&void 0!==n?n:B.Poong)}}),M&&o.a.createElement(ft.a,{label:v({da:"Er s\xe6t p\xe5 h\xe5nden?",en:"Is set in hand?"}),checked:h,inlineLabel:!0,onText:_e(),offText:Qe(),onChange:function(e,t){y(!!t)}}),L&&o.a.createElement(ft.a,{label:v({da:"Er det ener eller nier?",en:"Is it one or nine?"}),checked:S,inlineLabel:!0,onText:_e(),offText:Qe(),onChange:function(e,t){w(!!t)}}),N&&o.a.createElement(ft.a,{label:v({da:"Er det egen vind?",en:"Is it your own wind?"}),checked:k,inlineLabel:!0,onText:_e(),offText:Qe(),onChange:function(e,t){C(!!t)}}))))}function Ht(e){var t,n=Object(Le.a)()(pt),a={commandBar:{root:{padding:"5px"}},dashboard:{root:{padding:"24px 0 0 0"}},listButton:{root:{marginTop:"10px",marginLeft:"auto"}},footer:{root:{marginTop:30,float:"right",marginRight:30}}},i=e.user,c=e.onNavigateBack,u=Object(l.c)(ue),s=o.a.useState(void 0),d=Object(Me.a)(s,2),m=d[0],f=d[1],p=o.a.useState(!1),g=Object(Me.a)(p,2),b=g[0],h=g[1];Object(r.useEffect)((function(){i&&u&&f(K(u,i))}),[i,u]);var y=J(""),j=Object(l.b)(),O=function(){h(!0)},S=[{key:"Back",name:v({da:"Tilbage",en:"Back"}),iconProps:{iconName:"Back"},onClick:function(){m&&j(re(m)),c()}},{key:"Score",name:He(),iconProps:{iconName:"6PointStar"},onClick:O}];return o.a.createElement("div",{className:n.page},o.a.createElement(dt.a,{items:S,styles:a.commandBar}),o.a.createElement("div",{className:n.content},o.a.createElement("h1",null,i.name),o.a.createElement("p",null,Ze(null!==(t=null===m||void 0===m?void 0:m.points)&&void 0!==t?t:0)),o.a.createElement(mt.a,{tokens:{childrenGap:10}},o.a.createElement(ft.a,{label:v({da:"Vandt du?",en:"Did you win?"}),checked:null===m||void 0===m?void 0:m.isWinner,inlineLabel:!0,onText:_e(),offText:Qe(),onChange:function(e,t){return function(e){var t=Object(N.a)({},y,{},m,{isWinner:e});t.points=H(t),f(t)}(t)}}),o.a.createElement(ft.a,{label:v({da:"Er du \xf8st?",en:"Are you east?"}),checked:null===m||void 0===m?void 0:m.isEast,inlineLabel:!0,onText:_e(),offText:Qe(),onChange:function(e,t){return n=t,void f(Object(N.a)({},y,{},m,{isEast:n}));var n}})),o.a.createElement(We.a,{items:null===m||void 0===m?void 0:m.sets,onRenderCell:function(e){return e?o.a.createElement("div",{className:n.listItem},function(e){return Object(G.map)(Yt(e),(function(t,n){return o.a.createElement(st.a,{key:n,src:t,alt:Kt(e.tileType),height:55})}))}(e),o.a.createElement("div",{className:n.listDescription},o.a.createElement("div",null,Kt(null===e||void 0===e?void 0:e.tileType)),o.a.createElement("div",null,Ut(null===e||void 0===e?void 0:e.setType))),o.a.createElement(it.a,{iconProps:{iconName:"Delete"},title:Xe(),ariaLabel:Xe(),onClick:function(){!function(e){if(m){var t=Object(N.a)({},y,{},m,{sets:Object(G.without)(m.sets,e)});t.points=H(t),f(t)}}(e)},styles:a.listButton})):null}}),o.a.createElement(Re.a,{styles:a.footer,onClick:O},He())),o.a.createElement(Vt,{isOpen:b,onClose:function(e){if(m){var t=Object(N.a)({},y,{},m,{sets:[].concat(Object(A.a)(m.sets||[]),[e])});t.points=H(t),f(t)}h(!1)},onCancel:function(){return h(!1)}}))}var qt=n(166),_t=n(41),Qt=n(99),$t=n(102);function Xt(e){var t=e.isOpen,n=e.onAdd,a=e.onCancel,i=e.allPlayers,c=o.a.useState(),u=Object(Me.a)(c,2),s=u[0],d=u[1],m=o.a.useState([]),f=Object(Me.a)(m,2),p=f[0],g=f[1],b=Object(l.b)();Object(r.useEffect)((function(){d(void 0)}),[t]);var h=function(e){return{key:e.id,text:e.name,data:e}};Object(r.useEffect)((function(){g(Object(G.map)(i,h))}),[i]);return o.a.createElement(qt.a,{hidden:!t,onDismiss:a,dialogContentProps:{type:_t.a.normal,title:qe(),closeButtonAriaLabel:Ue()},modalProps:{isBlocking:!1}},o.a.createElement(ot.a,{ariaLabel:qe(),key:"User",selectedKey:null===s||void 0===s?void 0:s.id,allowFreeform:!0,autoComplete:"on",onChange:function(e,t,n,a){if(null===t||void 0===t?void 0:t.data)d(t.data);else{var r=(null===t||void 0===t?void 0:t.text)||a;if(r){var o=W(r);b(Z(o)),d(o),g([].concat(Object(A.a)(p),[h(o)]))}}},options:p}),o.a.createElement(Qt.a,null,o.a.createElement(Re.a,{onClick:function(){s&&n(s)},text:Ve()}),o.a.createElement($t.a,{onClick:a,text:Ue()})))}var Zt=Object(Je.b)((function(){return Object(Ke.B)({page:{overflow:"auto"},commandBar:{height:"44px"},content:{margin:"0 10px"}})}));function en(e){var t=e.commandBarItems,n=e.hideHome,i=e.header,c=e.children,u=Object(Le.a)()(Zt),s={commandBar:{root:{padding:"5px"}}},d=Object(l.b)(),m=o.a.useState([]),f=Object(Me.a)(m,2),p=f[0],g=f[1];return Object(r.useEffect)((function(){g([{key:"Back",ariaLabel:v({da:"Hjem",en:"Home"}),iconProps:{iconName:"Home"},onClick:function(){d(C(n?a.Training:a.Main))}}].concat(Object(A.a)(t)))}),[t,d,n]),o.a.createElement("div",{className:u.page},o.a.createElement("div",{className:u.commandBar},o.a.createElement(dt.a,{items:p,styles:s.commandBar})),o.a.createElement("div",{className:u.content},o.a.createElement("h1",null,i),c))}function tn(){var e=Object(Le.a)()(ze),t={dashboard:{root:{padding:"24px 0 0 0"}},listItem:{root:{maxWidth:"100%",width:"100%",padding:"20px 10px 20px 20px",margin:"10px 0"},flexContainer:{justifyContent:"flex-start"}},footerButton:{root:{marginTop:30,float:"right",marginRight:30}}},n=o.a.useState(0),a=Object(Me.a)(n,2),i=a[0],c=a[1],u=o.a.useState(!1),s=Object(Me.a)(u,2),d=s[0],m=s[1],f=o.a.useState(!1),p=Object(Me.a)(f,2),g=p[0],b=p[1],h=o.a.useState(void 0),y=Object(Me.a)(h,2),j=y[0],O=y[1],S=o.a.useState([]),w=Object(Me.a)(S,2),x=w[0],E=w[1],k=Object(l.c)(ce),C=Object(l.c)(se),T=Object(l.c)(se),P=Object(l.c)(ue),D=Object(l.c)(le),B=Object(l.b)();Object(r.useEffect)((function(){var e=function(e,t){var n=Object(G.uniqBy)(t,(function(e){return e.id})),a=Object(G.filter)(e,(function(e){var t=Object(G.uniqBy)(e.score,(function(e){return e.playerId}));return n.length===t.length&&!Object(G.some)(n,(function(e){return!Object(G.find)(t,(function(t){return t.playerId===e.id}))}))}));return 0===a.length?[]:Object(G.map)(n,(function(e){return{playerId:e.id,score:Object(G.sumBy)(a,(function(t){var n,a=Object(G.find)(t.score,(function(t){return t.playerId===e.id}));return null!==(n=null===a||void 0===a?void 0:a.gameScore)&&void 0!==n?n:0}))}}))}(D,C);E(e),c(i+1)}),[D,C]);var F=function(){return m(!0)},M=function(e){return function(){O(e)}},L=[{key:"Select",iconProps:{iconName:"People"},ariaLabel:$e(),subMenuProps:{items:[{key:"add",text:He(),iconProps:{iconName:"People"},onClick:F},{key:"SelectOrDelete",text:$e(),iconProps:{iconName:"People"},onClick:function(){return b(!0)}}]}},{key:"save",text:v({da:"Nyt spil",en:"New game"}),iconProps:{iconName:"Save"},onClick:function(){B(oe())}},{key:"Clear",iconProps:{iconName:"Delete"},ariaLabel:v({da:"Ryd op",en:"Clear"}),subMenuProps:{items:[{key:"ClearAll",text:v({da:"Slet alt",en:"Remove all"}),iconProps:{iconName:"UserRemove"},onClick:function(){B(ae()),c(i+1)},disabled:!0},{key:"ClearGames",text:v({da:"Slet alle point",en:"Clear all points"}),iconProps:{iconName:"RemoveFromShoppingList"},onClick:function(){B(ne()),c(i+1)}},{key:"ClearGame",text:v({da:"Slet spil",en:"Clear current game"}),iconProps:{iconName:"RemoveFromShoppingList"},onClick:function(){B(te()),c(i+1)}}]}}];return j?o.a.createElement(Ht,{user:j,onNavigateBack:function(){O(void 0),c(i+1)}}):o.a.createElement(en,{commandBarItems:L,header:v({da:"MahJong lommeregner",en:"MahJong calculator"})},o.a.createElement(Xt,{isOpen:d,onAdd:function(e){B(Z(e)),m(!1)},onCancel:function(){m(!1),b(!1)},allPlayers:k}),o.a.createElement(ut,{isOpen:g,onSave:function(e){B(X(e)),b(!1)},onDelete:function(e){B(ee(e))},allPlayers:k,currentPlayers:C}),o.a.createElement(We.a,{className:e.list,version:i,items:T,onRenderCell:function(n){if(!n)return null;var a,r,i=K(P,n),c=i.isWinner?o.a.createElement(Ne.a,{iconName:"SkypeCheck",className:i.isEast?e.winnerIcon2:e.winnerIcon}):null,l=i.isEast?o.a.createElement(Ne.a,{iconName:"CompassNW",className:e.eastIcon}):null,u=Object(G.find)(x,(function(e){return e.playerId===n.id})),s=u?(a=i.gameScore,r=u.score,v({da:"Samlet score: ".concat(a,"\u2003(").concat(r,")"),en:"Total score: ".concat(a,"\u2003(").concat(r,")")})):function(e){return v({da:"Samlet score: ".concat(e),en:"Total score: ".concat(e)})}(i.gameScore);return o.a.createElement(Ae.a,{styles:t.listItem,onClick:M(n)},o.a.createElement(Ie.a,{text:null===n||void 0===n?void 0:n.name,secondaryText:Ze(i.points),tertiaryText:s,size:Ge.c.size72}),l,c)}}),(null===T||void 0===T?void 0:T.length)<4&&o.a.createElement(Re.a,{styles:t.footerButton,onClick:F},$e()))}var nn=Object(Je.b)((function(){return Object(Ke.B)({page:{overflow:"auto",margin:"0 10px"},list:{margin:"0 10px"},header:{marginLeft:"10px",marginRight:"10px"},winnerIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto",color:"green"},winnerIcon2:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"0px",color:"green"},eastIcon:{fontSize:20,height:20,width:20,marginRight:"10px",marginLeft:"auto"}})}));function an(){Object(Le.a)()(nn);var e=o.a.useState(0),t=Object(Me.a)(e,2);t[0],t[1];return o.a.createElement(en,{commandBarItems:[],header:""},o.a.createElement("div",null))}var rn=n(23),on=n(171),cn=n(158),ln=n(167),un=n(6),sn=Object(Je.b)((function(){return Object(Ke.B)({list:{margin:"0 10px"},listItem:{display:"flex"},listText:{margin:"6px"}})}));function dn(){var e=Object(Le.a)()(sn),t={dashboard:{root:{padding:"24px 0 0 0"}},listItem:{root:{maxWidth:"100%",width:"100%",padding:"20px 10px 20px 20px",margin:"10px 0"},flexContainer:{justifyContent:"flex-start"}},footerButton:{root:{marginTop:30,float:"right",marginRight:30}},listButton:{root:{marginLeft:"auto"}}},n=o.a.useState(0),a=Object(Me.a)(n,2),i=a[0],c=a[1],u=o.a.useState(0),s=Object(Me.a)(u,2),d=s[0],m=s[1],f=o.a.useState(0),p=Object(Me.a)(f,2),g=p[0],b=p[1],h=o.a.useState(0),O=Object(Me.a)(h,2),S=O[0],w=O[1],x=o.a.useState(0),E=Object(Me.a)(x,2),k=E[0],C=E[1],T=o.a.useState(!1),P=Object(Me.a)(T,2),D=P[0],B=P[1],F=o.a.useState(new Date),M=Object(Me.a)(F,2),L=M[0],N=M[1],A=o.a.useState(!1),I=Object(Me.a)(A,2),W=I[0],R=I[1],J=o.a.useState(!1),K=Object(Me.a)(J,2),z=K[0],Y=K[1],U=o.a.useState([]),V=Object(Me.a)(U,2),H=V[0],q=V[1],_=Object(l.c)(xe),Q=Object(l.b)();Object(r.useEffect)((function(){var e,t,n=new Date,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return Object(G.filter)(e,(function(e){var n,a;return new Date(null!==(n=e.date)&&void 0!==n?n:new Date).getMonth()===t.getMonth()&&new Date(null!==(a=e.date)&&void 0!==a?a:new Date).getFullYear()===t.getFullYear()}))}(_,n);m(function(e){var t;return null!==(t=Object(G.sumBy)(e,(function(e){return e.count})))&&void 0!==t?t:0}(a)),b((e=a,t=n,Object(G.sumBy)(e,(function(e){return e.count}))/t.getDate())),w(Oe(a)),C(Se(a,n)),q(D?function(e){return Object(G.sortBy)(e,(function(e){var t;return new Date(null!==(t=e.date)&&void 0!==t?t:new Date)})).reverse().map((function(e){var t;return{date:new Date(null!==(t=e.date)&&void 0!==t?t:new Date),count:e.count,isSummary:!1,data:e}}))}(_):function(e){var t=Object(G.sortBy)(e,(function(e){var t;return new Date(null!==(t=e.date)&&void 0!==t?t:new Date)})).reverse(),n=we(new Date),a=[];return Object(G.forEach)(t,(function(e){var t,r=new Date(null!==(t=e.date)&&void 0!==t?t:new Date),o=we(r);if(o.toString()===n.toString())a.push({date:r,count:e.count,isSummary:!1,data:e});else{var i=Object(G.find)(a,(function(e){return e.date.toString()===o.toString()}));i||(i={date:o,count:0,isSummary:!0},a.push(i)),i.count+=e.count}})),a}(_))}),[_,D]);var $,X=function(e){return{key:"add"+e,text:at(e.toString()),secondaryText:j(L),onClick:function(t,n){Q(ye({count:e,date:L.toString()}))}}},Z=[{key:"Add",text:tt(),iconProps:{iconName:"ReportAdd"},ariaLabel:tt(),subMenuProps:{items:[{itemType:rn.a.Header,key:"addTitle",text:j(L)},X(20),X(25),X(30),X(35),X(40)]}},{key:"Date",text:nt(),iconProps:{iconName:"EventDate"},ariaLabel:nt(),onClick:function(){Y(!0)}}],ee=W?function(e){return v({da:"Tr\xe6ning ".concat(e),en:"Training ".concat(e)})}(L.toLocaleDateString(y(),{month:"numeric",day:"numeric"})):v({da:"Tr\xe6ning",en:"Training"});return o.a.createElement(en,{commandBarItems:Z,header:ee},o.a.createElement("p",null,($=d.toFixed(0),v({da:"Total: ".concat($),en:"Total: ".concat($)}))),o.a.createElement("p",null,function(e){return v({da:"Gennemsnit: ".concat(e),en:"Average: ".concat(e)})}(g.toFixed(0))),o.a.createElement("p",null,function(e){return v({da:"Mangler: ".concat(e),en:"Missing: ".concat(e)})}(S.toFixed(0))),o.a.createElement("p",null,function(e){return v({da:"Mangler pr. dag: ".concat(e),en:"Missing per day: ".concat(e)})}(k.toFixed(0))),o.a.createElement("h2",null,v({da:"Detaljer",en:"Details"})),o.a.createElement(ft.a,{label:v({da:"Vis alle",en:"Show all"}),checked:D,inlineLabel:!0,onText:_e(),offText:Qe(),onChange:function(e,t){c(i+1),B(!!t)}}),o.a.createElement(We.a,{className:e.list,version:i,items:H,onRenderCell:function(n){return n?n.isSummary?o.a.createElement("div",{className:e.listItem},o.a.createElement("p",{className:e.listText},rt(n.count.toString(),n.date.toLocaleDateString(y(),{year:"numeric",month:"long"})))):o.a.createElement("div",{className:e.listItem},o.a.createElement("p",{className:e.listText},rt(n.count.toString(),j(n.date))),o.a.createElement(it.a,{iconProps:{iconName:"Delete"},title:Xe(),ariaLabel:Xe(),onClick:function(){!function(e){e.data&&Q(ve(e.data))}(n)},styles:t.listButton})):null}}),z&&o.a.createElement(on.a,{isBeakVisible:!1,className:"ms-DatePicker-callout",gapSpace:0,doNotLayer:!1,onDismiss:function(){Y(!1)},setInitialFocus:!0},o.a.createElement(cn.a,{firstFocusableSelector:"ms-DatePicker-day--today",isClickableOutsideFocusTrap:!0},o.a.createElement(ln.a,{onSelectDate:function(e){Y(!1),R(!0),N(e)},onDismiss:function(){Y(!1)},isMonthPickerVisible:!1,value:L,firstDayOfWeek:un.b.Monday,strings:v({da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],days:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],shortDays:["S","M","T","O","T","F","L"],goToToday:"G\xe5 til idag",weekNumberFormatString:"Uge nummer {0}",prevMonthAriaLabel:"Forrige m\xe5ned",nextMonthAriaLabel:"N\xe6ste m\xe5ned",prevYearAriaLabel:"Forrige \xe5r",nextYearAriaLabel:"N\xe6ste \xe5r",prevYearRangeAriaLabel:"Forrige \xe5r",nextYearRangeAriaLabel:"N\xe6ste \xe5r",closeButtonAriaLabel:"Luk"},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["S","M","T","W","T","F","S"],goToToday:"Go to today",weekNumberFormatString:"Week number {0}",prevMonthAriaLabel:"Previous month",nextMonthAriaLabel:"Next month",prevYearAriaLabel:"Previous year",nextYearAriaLabel:"Next year",prevYearRangeAriaLabel:"Previous year range",nextYearRangeAriaLabel:"Next year range",closeButtonAriaLabel:"Close"}}),isDayPickerVisible:!0,highlightCurrentMonth:!0,highlightSelectedMonth:!0,showMonthPickerAsOverlay:!1,showGoToToday:!0}))))}var mn=n(178);function fn(){var e=o.a.useState(0),t=Object(Me.a)(e,2),n=t[0],r=t[1],i=Object(l.b)(),c=[{key:"Language",iconProps:{iconName:"Globe"},subMenuProps:{items:[{key:"da",text:"Dansk",onClick:function(e){i(T("da")),r(n+1)}},{key:"en",text:"English",onClick:function(e){i(T("en")),r(n+1)}},{key:"ru",text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",onClick:function(e){i(T("ru")),r(n+1)}},{key:"zh",text:"\u4e2d\u6587(\u7e41\u9ad4)",onClick:function(e){i(T("zh")),r(n+1)}}]}}];return o.a.createElement(en,{commandBarItems:c,header:v({da:"Velkommen hjem",en:"Welcome home"})},o.a.createElement(mn.a,{selectedKey:"key0",groups:[{links:[{name:v({da:"MahJong"}),url:"",key:"key0",target:"_blank",onClick:function(){i(C(a.MahJong))}},{name:v({da:"Tr\xe6ning",en:"Training"}),url:"",key:"key1",target:"_blank",onClick:function(){i(C(a.Training))}},{name:v({da:"Ekstra",en:"Extra"}),url:"",key:"key2",target:"_blank",onClick:function(){i(C(a.Playground))}}]}]}))}function pn(){var e=Object(l.c)(F),t=(Object(l.c)(M),Object(l.b)());return Object(r.useEffect)((function(){t((function(e){e(m?x(s("Main")):E())})),t((function(e){e(m?Q(s("Mahjong")):_())})),t((function(e){e(m?be(s("Training")):ge())})),t((function(e){e(m?Be(s("Play")):De())}))}),[t]),o.a.createElement("div",null,e===a.Main&&o.a.createElement(fn,null),e===a.MahJong&&o.a.createElement(tn,null),e===a.Training&&o.a.createElement(dn,null),e===a.Playground&&o.a.createElement(an,null))}var gn=n(162),bn=Object(u.a)({reducer:{main:L,mahjongOverview:de,training:Ee,playground:Fe}}),hn=n(161),yn=Object(Ke.A)({palette:{themePrimary:"#2266e3",themeLighterAlt:"#f5f8fe",themeLighter:"#d8e4fb",themeLight:"#b8cef7",themeTertiary:"#759fee",themeSecondary:"#3a76e6",themeDarkAlt:"#1f5bcc",themeDark:"#1a4dac",themeDarker:"#13397f",neutralLighterAlt:"#faf9f8",neutralLighter:"#f3f2f1",neutralLight:"#edebe9",neutralQuaternaryAlt:"#e1dfdd",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c6c4",neutralTertiary:"#a19f9d",neutralSecondary:"#605e5c",neutralPrimaryAlt:"#3b3a39",neutralPrimary:"#323130",neutralDark:"#201f1e",black:"#000000",white:"#ffffff"}}),vn=function(){return Object(r.useEffect)((function(){Object(gn.a)()})),o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:bn},o.a.createElement(hn.a,{theme:yn},o.a.createElement(pn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,n){e.exports=n.p+"static/media/MahjongGreenDragon.ae5a6502.jpg"},87:function(e,t,n){e.exports=n.p+"static/media/MahjongEast.7287d189.jpg"},88:function(e,t,n){e.exports=n.p+"static/media/MahjongBamboo6.93503ad1.jpg"},89:function(e,t,n){e.exports=n.p+"static/media/MahjongBambooChow.b2d6588f.jpg"},90:function(e,t,n){e.exports=n.p+"static/media/MahjongCircle5.5776cb62.jpg"},91:function(e,t,n){e.exports=n.p+"static/media/MahjongCircleChow.cc8debbe.jpg"},92:function(e,t,n){e.exports=n.p+"static/media/MahjongCharacter4.711aa9d4.jpg"},93:function(e,t,n){e.exports=n.p+"static/media/MahjongCharacterChow.79f76632.jpg"},94:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason1.2d153ff1.jpg"},95:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason2.ce673dd6.jpg"},96:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason3.d676d4a5.jpg"},97:function(e,t,n){e.exports=n.p+"static/media/MahjongSeason4.81b5c8aa.jpg"},98:function(e,t,n){e.exports=n.p+"static/media/MahjongFlower2.9efa08e5.jpg"}},[[108,1,2]]]);
//# sourceMappingURL=main.c0c989d8.chunk.js.map